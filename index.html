<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í—Ä–µ–º–µ–Ω–∞ –∑–∞ –ù–∞–º–∞–∑</title>
    <!-- –ò–∫–æ–Ω–∞ –∑–∞ —É–µ–±—Å–∞–π—Ç (favicon) –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–Ω–∞, –∑–∞ –¥–∞ –ø—Ä–µ–ø—Ä–∞—â–∞ –∫—ä–º —Å—Ç–∞—Ç–∏—á–µ–Ω —Ñ–∞–π–ª –∑–∞ –ø–æ-–¥–æ–±—Ä–∞ —Å—ä–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏ –∫–∞—Ç–æ GitHub Pages. -->
    <!-- –ú–æ–ª—è, —É–≤–µ—Ä–µ—Ç–µ —Å–µ, —á–µ –∏–º–∞—Ç–µ —Ñ–∞–π–ª 'favicon.png' –≤ –æ—Å–Ω–æ–≤–Ω–∞—Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –Ω–∞ –≤–∞—à–∏—è –ø—Ä–æ–µ–∫—Ç. -->
    <link rel="icon" href="/favicon.png" type="image/png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a202c; /* –¢—ä–º–µ–Ω —Ñ–æ–Ω */
            color: #e2e8f0; /* –°–≤–µ—Ç—ä–ª —Ü–≤—è—Ç –Ω–∞ —Ç–µ–∫—Å—Ç–∞ */
            display: flex;
            justify-content: center;
            align-items: flex-start; /* –ò–∑—Ä–∞–≤–Ω—è–≤–∞ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ –≤ –≥–æ—Ä–Ω–∞—Ç–∞ —á–∞—Å—Ç */
            height: auto; /* –í–∏—Å–æ—á–∏–Ω–∞—Ç–∞ —Å–µ –æ–ø—Ä–µ–¥–µ–ª—è –æ—Ç —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ */
            min-height: 100vh; /* –ú–∏–Ω–∏–º–∞–ª–Ω–∞ –≤–∏—Å–æ—á–∏–Ω–∞ –Ω–∞ –µ–∫—Ä–∞–Ω–∞ */
            margin: 0;
            padding: 0.5rem; /* –í—ä–∑—Å—Ç–∞–Ω–æ–≤–µ–Ω padding –Ω–∞ body */
            box-sizing: border-box;
            overflow-x: hidden; /* –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç—è–≤–∞ —Ö–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–Ω–æ –ø—Ä–µ–≤—ä—Ä—Ç–∞–Ω–µ –Ω–∞ —Ü—è–ª–æ—Ç–æ —Ç—è–ª–æ */
            touch-action: pan-y; /* –ü–æ–∑–≤–æ–ª—è–≤–∞ –≤–µ—Ä—Ç–∏–∫–∞–ª–Ω–æ –ø—Ä–µ–≤—ä—Ä—Ç–∞–Ω–µ, –Ω–æ —É–∫–∞–∑–≤–∞ —Ö–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–Ω–æ—Ç–æ –¥–∞ —Å–µ –æ–±—Ä–∞–±–æ—Ç–≤–∞ –æ—Ç JS */
        }

        /* –û–±–≤–∏–≤–∞—â –µ–ª–µ–º–µ–Ω—Ç –∑–∞ —Ü—è–ª–æ—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –ø–æ–∑–≤–æ–ª—è–≤–∞—â "–∏–∑–±—É—Ç–≤–∞–Ω–µ" –Ω–∞ –º–µ–Ω—é—Ç–æ */
        #app-wrapper {
            display: flex;
            width: 100%;
            height: auto; /* –í–∏—Å–æ—á–∏–Ω–∞—Ç–∞ —Å–µ –æ–ø—Ä–µ–¥–µ–ª—è –æ—Ç —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ */
            position: relative;
            box-sizing: border-box;
            /* –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç—è–≤–∞ —Ö–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–Ω–æ –ø—Ä–µ–≤—ä—Ä—Ç–∞–Ω–µ, –∞–∫–æ –æ—Å–Ω–æ–≤–Ω–æ—Ç–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ –µ –∏–∑–±—É—Ç–∞–Ω–æ –∏–∑–≤—ä–Ω –µ–∫—Ä–∞–Ω–∞ */
            overflow: hidden; /* –°–∫—Ä–∏–π –≤—Å—è–∫–æ –ø—Ä–µ–ª–∏–≤–∞–Ω–µ –æ—Ç –≤—ä—Ç—Ä–µ—à–Ω–∏ –µ–ª–µ–º–µ–Ω—Ç–∏, –≤–∫–ª—é—á–∏—Ç–µ–ª–Ω–æ –ø—Ä–∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ */
        }

        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞ –æ—Å–Ω–æ–≤–Ω–æ—Ç–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ */
        #main-content-wrapper {
            flex-grow: 1; /* –ó–∞–µ–º–∞ —Ü—è–ª–æ—Ç–æ –æ—Å—Ç–∞–Ω–∞–ª–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ */
            width: 100%; /* –ó–∞–ø—ä–ª–≤–∞ –Ω–∞–ª–∏—á–Ω–∞—Ç–∞ —Ö–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–Ω–∞ —à–∏—Ä–∏–Ω–∞ */
            transition: transform 0.3s ease-out; /* –ü–ª–∞–≤–µ–Ω –ø—Ä–µ—Ö–æ–¥ –∑–∞ –∏–∑–±—É—Ç–≤–∞–Ω–µ */
            transform: translateX(0); /* –ù–∞—á–∞–ª–Ω–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ: –Ω–µ –µ –∏–∑–±—É—Ç–∞–Ω */
            padding: 0; /* –ü—Ä–µ–º–∞—Ö–Ω–∞—Ç padding –æ—Ç wrapper, —É–ø—Ä–∞–≤–ª—è–≤–∞ —Å–µ –æ—Ç container */
            box-sizing: border-box;
            display: flex; /* –ó–∞ –¥–∞ –º–æ–∂–µ —Ö–∞–º–±—É—Ä–≥–µ—Ä –±—É—Ç–æ–Ω—ä—Ç –¥–∞ —Å–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–∞ */
            flex-direction: column; /* –ó–∞ –¥–∞ –º–æ–∂–µ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ –≤—ä—Ç—Ä–µ –¥–∞ –µ –ø–æ–¥—Ä–µ–¥–µ–Ω–æ */
            align-items: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ */
        }

        .container {
            background-color: #2d3748; /* –õ–µ–∫–æ –ø–æ-—Ç—ä–º–µ–Ω —Ñ–æ–Ω –∑–∞ –∫–∞—Ä—Ç–∞—Ç–∞ */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            border-radius: 1.5rem; /* –ü–æ-–∑–∞–æ–±–ª–µ–Ω–∏ —ä–≥–ª–∏ */
            padding: 1rem; /* –ù–∞–º–∞–ª–µ–Ω padding –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ */
            width: 100%;
            max-width: 480px; /* –ú–∞–∫—Å–∏–º–∞–ª–Ω–∞ —à–∏—Ä–∏–Ω–∞ –ø–æ –ø–æ–¥—Ä–∞–∑–±–∏—Ä–∞–Ω–µ –∑–∞ –º–æ–±–∏–ª–Ω–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ */
            display: flex;
            flex-direction: column;
            gap: 0.75rem; /* –ù–∞–º–∞–ª–µ–Ω–∞ –ø—Ä–∞–∑–Ω–∏–Ω–∞ –∑–∞ –ø–æ-–¥–æ–±—Ä–æ –ø—Ä–∏–ª—è–≥–∞–Ω–µ */
            box-sizing: border-box;
            height: auto; /* –í–∏—Å–æ—á–∏–Ω–∞—Ç–∞ —Å–µ –æ–ø—Ä–µ–¥–µ–ª—è –æ—Ç —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ */
        }
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª–Ω–∞ —à–∏—Ä–∏–Ω–∞ –∑–∞ –ø–æ-–≥–æ–ª–µ–º–∏ –µ–∫—Ä–∞–Ω–∏ */
        @media (min-width: 768px) { /* md breakpoint */
            .container {
                max-width: 640px; /* md:max-w-xl */
            }
        }
        @media (min-width: 1024px) { /* lg breakpoint */
            .container {
                max-width: 768px; /* lg:max-w-2xl */
            }
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–∏ —Ä–∞–∑–º–µ—Ä–∏ –Ω–∞ —Ç–µ–∫—Å—Ç–∞ –∑–∞ –æ–±—Ä–∞—Ç–Ω–æ –±—Ä–æ–µ–Ω–µ */
        #countdown {
            font-weight: 700;
            color: #a0aec0; /* –ü–æ-—Å–≤–µ—Ç–ª–æ —Å–∏–≤–æ –∑–∞ –≤—Ä–µ–º–µ */
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .countdown-text {
            font-size: 1.1rem; /* –õ–µ–∫–æ –ø–æ-–º–∞–ª—ä–∫ –∑–∞ –ø–æ-–ø–ª—ä—Ç–Ω–æ –ø—Ä–∏–ª—è–≥–∞–Ω–µ */
            font-weight: 500;
            color: #cbd5e0;
            margin-top: 0.25rem; /* –ù–∞–º–∞–ª–µ–Ω margin */
        }
        .prayer-row {
            display: flex;
            justify-content: space-between; /* –î—ä—Ä–∂–∏ –∏–º–µ—Ç–æ –≤–ª—è–≤–æ, –∞ –≤—Ä–µ–º–µ—Ç–æ/–±—É—Ç–æ–Ω–∞ –≤–¥—è—Å–Ω–æ */
            align-items: center;
            padding: 0.5rem 0; /* –ù–∞–º–∞–ª–µ–Ω padding */
            border-bottom: 1px solid #4a5568; /* –î–µ–ª–∏–∫–∞—Ç–µ–Ω —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª */
        }
        .prayer-row:last-child {
            border-bottom: none;
        }
        .prayer-name {
            font-size: 1rem; /* –õ–µ–∫–æ –ø–æ-–º–∞–ª—ä–∫ */
            font-weight: 500;
            color: #cbd5e0;
        }
        .prayer-time {
            font-size: 1.1rem; /* –õ–µ–∫–æ –ø–æ-–º–∞–ª—ä–∫ */
            font-weight: 600;
            color: #a0aec0;
        }
        .highlighted-prayer .prayer-name,
        .highlighted-prayer .prayer-time {
            color: #68d391; /* –¶–≤—è—Ç –∑–∞ –ø–æ–¥—á–µ—Ä—Ç–∞–≤–∞–Ω–µ */
            font-weight: 700;
        }
        .loading-spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid #68d391;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* –û–±—â —Å—Ç–∏–ª –Ω–∞ –±—É—Ç–æ–Ω–∏—Ç–µ –∑–∞ –¥–µ–π—Å—Ç–≤–∏—è (–¥–∞—Ç–∞, –µ–∑–∏–∫, –∫–æ—Ä–µ–∫—Ü–∏–∏) */
        .action-button {
            background-color: #4a5568;
            color: #e2e8f0;
            border: 1px solid #68d391;
            border-radius: 0.5rem;
            padding: 0.5rem; /* –ü–æ-–º–∞–ª—ä–∫ padding –∑–∞ –±—É—Ç–æ–Ω —Å–∞–º–æ —Å –µ–º–æ—Ç–∏–∫–æ–Ω–∏ */
            width: 3rem; /* –§–∏–∫—Å–∏—Ä–∞–Ω–∞ —à–∏—Ä–∏–Ω–∞ –∑–∞ –±—É—Ç–æ–Ω —Å –µ–º–æ—Ç–∏–∫–æ–Ω–∏ */
            height: 3rem; /* –§–∏–∫—Å–∏—Ä–∞–Ω–∞ –≤–∏—Å–æ—á–∏–Ω–∞ –∑–∞ –±—É—Ç–æ–Ω —Å –µ–º–æ—Ç–∏–∫–æ–Ω–∏ */
            font-size: 1.5rem; /* –ü–æ-–≥–æ–ª—è–º –µ–º–æ—Ç–∏–∫–æ–Ω */
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
            white-space: nowrap; /* –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç—è–≤–∞ –ø—Ä–µ–Ω–∞—Å—è–Ω–µ –Ω–∞ —Ç–µ–∫—Å—Ç –∑–∞ —Ç–µ–∫—Å—Ç–æ–≤–∏ –±—É—Ç–æ–Ω–∏ */
        }
        .action-button:hover {
            background-color: #5a677d;
        }
        .action-button:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(104, 211, 145, 0.5);
        }

        /* –°—Ç–∏–ª–æ–≤–µ –∑–∞ –±—É—Ç–æ–Ω–∞ –Ω–∞ —Ö–∞–º–±—É—Ä–≥–µ—Ä –º–µ–Ω—é—Ç–æ */
        #hamburger-menu-btn {
            position: fixed; /* –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–∞ —Å–µ —Å–ø—Ä—è–º–æ viewport-–∞ */
            top: 1rem;
            left: 1rem;
            z-index: 101; /* –£–≤–µ—Ä–µ—Ç–µ —Å–µ, —á–µ –µ –Ω–∞–¥ –≤—Å–∏—á–∫–æ –æ—Å—Ç–∞–Ω–∞–ª–æ */
        }

        /* –°—Ç–∏–ª–æ–≤–µ –∑–∞ —Å—Ç—Ä–∞–Ω–∏—á–Ω–æ—Ç–æ –º–µ–Ω—é */
        .side-menu {
            position: absolute; /* –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–∞–Ω —Å–ø—Ä—è–º–æ app-wrapper */
            top: 0;
            left: 0;
            height: 100vh; /* –¶—è–ª–∞ –≤–∏—Å–æ—á–∏–Ω–∞ –Ω–∞ –∏–∑–≥–ª–µ–¥–∞ */
            width: 280px; /* –®–∏—Ä–∏–Ω–∞ –Ω–∞ –º–µ–Ω—é—Ç–æ */
            background-color: #2d3748; /* –°—ä—â–∏—è—Ç –∫–∞—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏–ª–∏ –º–∞–ª–∫–æ –ø–æ-—Ç—ä–º–µ–Ω */
            z-index: 100; /* –ü–æ-–≤–∏—Å–æ–∫ –æ—Ç –æ—Å–Ω–æ–≤–Ω–æ—Ç–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ */
            transform: translateX(-100%); /* –ü—ä—Ä–≤–æ–Ω–∞—á–∞–ª–Ω–æ —Å–∫—Ä–∏—Ç –∏–∑–≤—ä–Ω –µ–∫—Ä–∞–Ω–∞ */
            transition: transform 0.3s ease-out; /* –ü–ª–∞–≤–µ–Ω –ø—Ä–µ—Ö–æ–¥ –Ω–∞ –ø–ª—ä–∑–≥–∞–Ω–µ */
            padding: 1.5rem;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.5); /* –°—è–Ω–∫–∞ –∑–∞ –¥—ä–ª–±–æ—á–∏–Ω–∞ */
            display: flex;
            flex-direction: column;
            gap: 1rem; /* –†–∞–∑—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –µ–ª–µ–º–µ–Ω—Ç–∏—Ç–µ –Ω–∞ –º–µ–Ω—é—Ç–æ */
            box-sizing: border-box;
            overflow-y: auto; /* –ü–æ–∑–≤–æ–ª—è–≤–∞ –ø—Ä–µ–≤—ä—Ä—Ç–∞–Ω–µ, –∞–∫–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ –Ω–∞ –º–µ–Ω—é—Ç–æ –µ —Ç–≤—ä—Ä–¥–µ –¥—ä–ª–≥–æ */
        }
        .side-menu.open {
            transform: translateX(0); /* –ü–ª—ä–∑–≥–∞ —Å–µ –≤—ä–≤ –≤–∏–¥–∏–º–æ—Å—Ç */
        }

        /* –ü—Ä–µ–º–∞—Ö–Ω–∞—Ç overlay, —Ç—ä–π –∫–∞—Ç–æ –º–µ–Ω—é—Ç–æ –≤–µ—á–µ "–∏–∑–±—É—Ç–≤–∞" —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ */
        #menu-overlay {
            display: none !important; /* –£–≤–µ—Ä–µ—Ç–µ —Å–µ, —á–µ –µ –Ω–∞–ø—ä–ª–Ω–æ —Å–∫—Ä–∏—Ç */
        }
        
        /* –ö–æ—Ä–µ–∫—Ü–∏–∏ –∑–∞ –±—É—Ç–æ–Ω–∏—Ç–µ –≤—ä—Ç—Ä–µ –≤ –º–µ–Ω—é—Ç–æ, –∑–∞ –¥–∞ –ø–∞—Å–≤–∞—Ç –Ω–∞ –Ω–æ–≤–æ—Ç–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç + –µ–º–æ—Ç–∏–∫–æ–Ω */
        .side-menu .action-button {
            width: 100%; /* –ü—Ä–∞–≤—è—Ç —Å–µ –Ω–∞ —Ü—è–ª–∞ —à–∏—Ä–∏–Ω–∞ –≤ –º–µ–Ω—é—Ç–æ */
            justify-content: flex-start; /* –ü–æ–¥—Ä–∞–≤–Ω—è–≤–∞ —Ç–µ–∫—Å—Ç–∞ –≤ –Ω–∞—á–∞–ª–æ—Ç–æ */
            padding: 0.75rem 1rem; /* –ü–æ-–≥–æ–ª—è–º padding –∑–∞ –ø–æ-–¥–æ–±—Ä–∏ –∑–æ–Ω–∏ –∑–∞ –¥–æ–∫–æ—Å–≤–∞–Ω–µ */
            font-size: 1rem; /* –ü–æ-–º–∞–ª—ä–∫ —à—Ä–∏—Ñ—Ç –∑–∞ —Ç–µ–∫—Å—Ç–æ–≤–∏ –±—É—Ç–æ–Ω–∏ */
            height: auto; /* –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≤–∏—Å–æ—á–∏–Ω–∞ –∑–∞ —Ç–µ–∫—Å—Ç–æ–≤–∏ –±—É—Ç–æ–Ω–∏ */
            gap: 0.75rem; /* –†–∞–∑—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –µ–º–æ—Ç–∏–∫–æ–Ω –∏ —Ç–µ–∫—Å—Ç */
        }
        .side-menu .action-button > span { /* –ó–∞ –µ–º–æ—Ç–∏–∫–æ–Ω–∏—Ç–µ –≤ —Ç–µ–∫—Å—Ç–æ–≤–∏—Ç–µ –±—É—Ç–æ–Ω–∏ */
            font-size: 1.5rem; /* –ó–∞–ø–∞–∑–≤–∞ —Ä–∞–∑–º–µ—Ä–∞ –Ω–∞ –µ–º–æ—Ç–∏–∫–æ–Ω–∞ –ø–æ—Å—Ç–æ—è–Ω–µ–Ω */
        }

        /* –ë—É—Ç–æ–Ω –∑–∞ –∑–∞—Ç–≤–∞—Ä—è–Ω–µ –≤ –º–µ–Ω—é—Ç–æ */
        #close-side-menu-btn {
            background: none;
            border: none;
            color: #e2e8f0;
            font-size: 2rem;
            padding: 0;
            cursor: pointer;
            align-self: flex-end; /* –ü–æ–¥—Ä–∞–≤–Ω—è–≤–∞ —Å–µ –≤–¥—è—Å–Ω–æ –≤ –≥—ä–≤–∫–∞–≤–∞—Ç–∞ –∫–æ–ª–æ–Ω–∞ */
            margin-bottom: 1rem;
            width: auto; /* –ù–µ –Ω–∞—Å–∏–ª–≤–∞ —Ñ–∏–∫—Å–∏—Ä–∞–Ω–∞ —à–∏—Ä–∏–Ω–∞ */
            height: auto; /* –ù–µ –Ω–∞—Å–∏–ª–≤–∞ —Ñ–∏–∫—Å–∏—Ä–∞–Ω–∞ –≤–∏—Å–æ—á–∏–Ω–∞ */
        }
        #close-side-menu-btn:hover {
            color: #68d391;
            background-color: transparent; /* –ë–µ–∑ —Ñ–æ–Ω –ø—Ä–∏ hover */
        }

        /* –°–∫—Ä–∏—Ç –∏–Ω–ø—É—Ç –∑–∞ –∏–∑–±–æ—Ä –Ω–∞ –¥–∞—Ç–∞ - –Ω–∞–∏—Å—Ç–∏–Ω–∞ —Å–∫—Ä–∏—Ç */
        #hidden-date-input {
            display: none; 
        }

        /* –°—Ç–∏–ª–æ–≤–µ –Ω–∞ –º–æ–¥–∞–ª–Ω–∏—Ç–µ –ø—Ä–æ–∑–æ—Ä—Ü–∏ (–∑–∞–ø–∞–∑–µ–Ω–∏ —Å—ä—â–∏—Ç–µ, –Ω–æ –ø–æ-–≤–∏—Å–æ–∫ z-index –∑–∞ –º–æ–¥–∞–ª–∏—Ç–µ, —Å–≤—ä—Ä–∑–∞–Ω–∏ —Å —Ö–∞–º–±—É—Ä–≥–µ—Ä –º–µ–Ω—é—Ç–æ) */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.75);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 110; /* –ü–æ-–≤–∏—Å–æ–∫ –æ—Ç —Å—Ç—Ä–∞–Ω–∏—á–Ω–æ—Ç–æ –º–µ–Ω—é –∏ –Ω–µ–≥–æ–≤–∏—è overlay */
            padding: 0.5rem;
            backdrop-filter: blur(5px);
        }
        .modal-content {
            background-color: #2d3748;
            border-radius: 1.5rem;
            padding: 1.5rem;
            width: 100%;
            max-width: 400px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            color: #e2e8f0;
            max-height: 95vh;
            overflow-y: auto;
        }
        .city-list-item {
            padding: 0.6rem 1rem;
            border-bottom: 1px solid #4a5568;
            cursor: pointer;
            transition: background-color 0.15s ease-in-out;
        }
        .city-list-item:hover {
            background-color: #3a475d;
        }
        .city-list-item.selected {
            background-color: #68d391;
            color: #1a202c;
            font-weight: 600;
        }
        .city-list-item:last-child {
            border-bottom: none;
        }

        .adjustment-input-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }
        .adjustment-input-row label {
            font-size: 1rem;
            font-weight: 500;
            color: #cbd5e0;
        }
        .adjustment-input-row input[type="number"] {
            width: 70px;
            text-align: center;
            background-color: #4a5568;
            border: 1px solid #68d391;
            color: #e2e8f0;
            border-radius: 0.375rem;
            padding: 0.25rem 0.4rem;
        }
    </style>
</head>
<body class="antialiased">
    <!-- –û–±–≤–∏–≤–∞—â –µ–ª–µ–º–µ–Ω—Ç –∑–∞ —Ü—è–ª–æ—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ -->
    <div id="app-wrapper"> 
        <!-- –°—Ç—Ä–∞–Ω–∏—á–Ω–æ –º–µ–Ω—é -->
        <div id="side-menu" class="side-menu">
            <button id="close-side-menu-btn" class="action-button">‚úñ</button>
            
            <button id="location-select-btn" class="action-button">
                <span>üìç</span> –ò–∑–±–µ—Ä–µ—Ç–µ –≥—Ä–∞–¥
            </button>
            <button id="countdown-toggle-btn" class="action-button">
                <span>‚åõ</span> –†–µ–∂–∏–º –û—Ç–±—Ä–æ—è–≤–∞–Ω–µ
            </button>
            <div class="relative w-full">
                <button id="date-picker-btn" class="action-button">
                    <span>üóìÔ∏è</span> –ò–∑–±–µ—Ä–µ—Ç–µ –î–∞—Ç–∞
                </button>
                <input type="date" id="hidden-date-input">
            </div>
            <button id="language-toggle-btn" class="action-button">
                <span>üí¨</span> –°–º–µ–Ω–∏ –ï–∑–∏–∫–∞
            </button>
            <button id="open-adjustment-modal-btn" class="action-button">
                <span>‚öôÔ∏è</span> –ö–æ—Ä–µ–∫—Ü–∏–∏
            </button>
        </div>

        <!-- –û—Å–Ω–æ–≤–µ–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ, –∫–æ–π—Ç–æ —â–µ –±—ä–¥–µ –∏–∑–±—É—Ç–≤–∞–Ω -->
        <div id="main-content-wrapper">
            <!-- –•–∞–º–±—É—Ä–≥–µ—Ä –±—É—Ç–æ–Ω - –≤–µ—á–µ –µ —Ñ–∏–∫—Å–∏—Ä–∞–Ω, –∑–∞ –¥–∞ —Å—Ç–æ–∏ –∏–∑–≤—ä–Ω –æ—Å–Ω–æ–≤–Ω–∏—è –±–ª–æ–∫ -->
            <button id="hamburger-menu-btn" class="action-button">‚ò∞</button>

            <div class="container">
                <!-- –ì–æ—Ä–µ–Ω —Ä–µ–¥: –ì—Ä–µ–≥–æ—Ä–∏–∞–Ω—Å–∫–∞ –¥–∞—Ç–∞ –∏ –¥–µ–Ω + —Ç–µ–∫—É—â–æ –≤—Ä–µ–º–µ (–ª—è–≤–æ), –•–∏–¥–∂—Ä–∞ –¥–∞—Ç–∞ –∏ —Å–≤–µ—â–µ–Ω –¥–µ–Ω + –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ (–¥—è—Å–Ω–æ) -->
                <div class="flex justify-between items-start text-sm md:text-base">
                    <div id="gregorian-date-info" class="flex flex-col items-start font-medium text-gray-400">
                        <span id="current-date"></span>
                        <span id="current-day"></span>
                        <div id="current-time" class="text-lg font-semibold text-gray-300 mt-1"></div>
                    </div>
                    <div id="hijri-and-sacred-info" class="flex flex-col items-end text-gray-500">
                        <span id="hijri-date"></span>
                        <span id="sacred-day-info" class="text-green-400 font-semibold text-xs mt-1"></span>
                        <span id="selected-city-display" class="text-gray-400 text-sm mt-1">–°–æ—Ñ–∏—è</span>
                    </div>
                </div>

                <div class="text-center flex flex-col items-center">
                    <div class="flex items-center justify-center gap-2 mb-1">
                        <div id="countdown" class="text-4xl md:text-5xl lg:text-6xl font-bold text-gray-400">--:--:--</div>
                        <button id="return-today-btn" class="action-button !w-10 !h-10 !text-xl hidden">üîÑ</button>
                    </div>
                    <div id="countdown-text" class="countdown-text">–∑–∞—Ä–µ–∂–¥–∞–Ω–µ...</div>
                </div>
                
                <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ -->
                <div id="loading-indicator" class="flex justify-center items-center py-4 hidden">
                    <div class="loading-spinner"></div>
                </div>

                <div id="prayer-times-list" class="flex flex-col gap-1">
                    <!-- –í—Ä–µ–º–µ–Ω–∞—Ç–∞ –∑–∞ –Ω–∞–º–∞–∑ —â–µ –±—ä–¥–∞—Ç –ø–æ–ø—ä–ª–Ω–µ–Ω–∏ —Ç—É–∫ -->
                </div>

                <div id="error-message" class="hidden text-center text-red-400 text-sm mt-2">
                    –í—ä–∑–Ω–∏–∫–Ω–∞ –≥—Ä–µ—à–∫–∞ –ø—Ä–∏ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ –Ω–∞ –≤—Ä–µ–º–µ–Ω–∞—Ç–∞ –∑–∞ –Ω–∞–º–∞–∑. –ú–æ–ª—è, –æ–ø–∏—Ç–∞–π—Ç–µ –æ—Ç–Ω–æ–≤–æ –ø–æ-–∫—ä—Å–Ω–æ.
                </div>

                <!-- –î–æ–ª–Ω–∏—è—Ç —Ä–µ–¥ —Å –±—É—Ç–æ–Ω–∏ –∑–∞ –¥–µ–π—Å—Ç–≤–∏–µ –µ –ø—Ä–µ–º–∞—Ö–Ω–∞—Ç, —Ç—ä–π –∫–∞—Ç–æ —Å–∞ –≤ —Ö–∞–º–±—É—Ä–≥–µ—Ä –º–µ–Ω—é—Ç–æ -->
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–µ–Ω –ø—Ä–æ–∑–æ—Ä–µ—Ü –∑–∞ –∏–∑–±–æ—Ä –Ω–∞ –≥—Ä–∞–¥ -->
    <div id="city-selection-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h3 class="text-xl font-semibold text-white mb-4">–ò–∑–±–µ—Ä–µ—Ç–µ –≥—Ä–∞–¥</h3>
            <div id="city-list" class="flex flex-col gap-1 mb-4">
                <!-- –û–ø—Ü–∏–∏—Ç–µ –∑–∞ –≥—Ä–∞–¥ —â–µ –±—ä–¥–∞—Ç –ø–æ–ø—ä–ª–Ω–µ–Ω–∏ —Ç—É–∫ –æ—Ç JavaScript -->
            </div>
            <div class="flex justify-end">
                <button id="close-city-modal-btn" class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-xl focus:outline-none focus:shadow-outline transition duration-150 ease-in-out">–ó–∞—Ç–≤–æ—Ä–∏</button>
            </div>
        </div>
    </div>

    <!-- –ì–ª–æ–±–∞–ª–µ–Ω –º–æ–¥–∞–ª–µ–Ω –ø—Ä–æ–∑–æ—Ä–µ—Ü –∑–∞ –∫–æ—Ä–µ–∫—Ü–∏–∏ –Ω–∞ –Ω–∞–º–∞–∑–∏ (–ø—Ä–µ—Ä–∞–±–æ—Ç–µ–Ω) -->
    <div id="adjustment-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h3 class="text-xl font-semibold text-white mb-4">–ö–æ—Ä–µ–∫—Ü–∏–∏ –Ω–∞ –≤—Ä–µ–º–µ–Ω–∞ –∑–∞ –Ω–∞–º–∞–∑</h3>
            <p class="text-gray-300 text-sm mb-3">–í—ä–≤–µ–¥–µ—Ç–µ –∫–æ—Ä–µ–∫—Ü–∏—è –≤ –º–∏–Ω—É—Ç–∏ (+ –∑–∞ –Ω–∞–ø—Ä–µ–¥, - –∑–∞ –Ω–∞–∑–∞–¥):</p>
            <div id="prayer-adjustment-inputs" class="mb-4">
                <!-- –í—Ö–æ–¥–æ–≤–µ—Ç–µ –∑–∞ –∫–æ—Ä–µ–∫—Ü–∏–∏ —â–µ –±—ä–¥–∞—Ç –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–∏ –¥–∏–Ω–∞–º–∏—á–Ω–æ —Ç—É–∫ -->
            </div>
            <div class="flex justify-end space-x-3">
                <button id="cancel-adjustment-btn" class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-xl focus:outline-none focus:shadow-outline transition duration-150 ease-in-out">–û—Ç–∫–∞–∑</button>
                <button id="save-all-adjustments-btn" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-xl focus:outline-none focus:shadow-outline transition duration-150 ease-in-out">–ó–∞–ø–∞–∑–∏</button>
            </div>
        </div>
    </div>

    <script>
        // --- –î–ê–ù–ù–ò –ó–ê –°–í–ï–©–ï–ù–ò –î–ù–ò (–ü–†–ò–ú–ï–†) ---
        // –¢–æ–≤–∞ –µ —Ç–≤—ä—Ä–¥–æ –∫–æ–¥–∏—Ä–∞–Ω –ø—Ä–∏–º–µ—Ä–µ–Ω —Å–ø–∏—Å—ä–∫ —Å—ä—Å —Å–≤–µ—â–µ–Ω–∏ –¥–Ω–∏ –∑–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è.
        // –ó–∞ —Ü—è–ª–æ—Å—Ç–Ω–æ —Ä–µ—à–µ–Ω–∏–µ —Ç–µ–∑–∏ –¥–∞–Ω–Ω–∏ –±–∏—Ö–∞ –±–∏–ª–∏ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–∏ –∑–∞ –º–Ω–æ–≥–æ –≥–æ–¥–∏–Ω–∏.
        // –î–∞–Ω–Ω–∏, –∏–∑–≤–ª–µ—á–µ–Ω–∏ –æ—Ç –∫–∞–ª–µ–Ω–¥–∞—Ä–∞ –Ω–∞ –î–∏—è–Ω–µ—Ç –∑–∞ —Ä–µ–ª–∏–≥–∏–æ–∑–Ω–∏ –¥–Ω–∏ (–ø–æ–¥–ª–µ–∂–∞—Ç –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞).
        const sacredDays = {
            // 2024 (–ó–∞–ø–∞–∑–µ–Ω–∏ –∫–∞–∫—Ç–æ —Å–∞, –≤–µ—Ä–æ—è—Ç–Ω–æ —Å–∞ –≤–µ—Ä–Ω–∏ –∏–ª–∏ –¥–æ—Å—Ç–∞—Ç—ä—á–Ω–æ –±–ª–∏–∑–∫–∏ –∑–∞ 2024 –≥.)
            "2024-01-11": "–ù–æ—â—Ç–∞ –Ω–∞ –†–µ–≥–∞–∏–±",
            "2024-02-06": "–ù–æ—â—Ç–∞ –Ω–∞ –ú–∏—Ä–∞–¥–∂",
            "2024-02-24": "–ù–æ—â—Ç–∞ –Ω–∞ –ë–µ—Ä–∞—Ç",
            "2024-03-11": "–ù–∞—á–∞–ª–æ –Ω–∞ –†–∞–º–∞–∑–∞–Ω",
            "2024-04-05": "–ù–æ—â—Ç–∞ –ö–∞–¥–∏—Ä",
            "2024-04-10": "–†–∞–º–∞–∑–∞–Ω –ë–∞–π—Ä–∞–º - –î–µ–Ω 1",
            "2024-04-11": "–†–∞–º–∞–∑–∞–Ω –ë–∞–π—Ä–∞–º - –î–µ–Ω 2",
            "2024-04-12": "–†–∞–º–∞–∑–∞–Ω –ë–∞–π—Ä–∞–º - –î–µ–Ω 3",
            "2024-06-15": "–î–µ–Ω—è—Ç –ê—Ä–∞—Ñ–∞",
            "2024-06-16": "–ö—É—Ä–±–∞–Ω –ë–∞–π—Ä–∞–º - –î–µ–Ω 1",
            "2024-06-17": "–ö—É—Ä–±–∞–Ω –ë–∞–π—Ä–∞–º - –î–µ–Ω 2",
            "2024-06-18": "–ö—É—Ä–±–∞–Ω –ë–∞–π—Ä–∞–º - –î–µ–Ω 3",
            "2024-06-19": "–ö—É—Ä–±–∞–Ω –ë–∞–π—Ä–∞–º - –î–µ–Ω 4",
            "2024-07-07": "–ù–æ–≤–∞ –•–∏–¥–∂ri –≥–æ–¥–∏–Ω–∞ (1446 –≥. –ø–æ –•–∏–¥–∂—Ä–∞)",
            "2024-07-16": "–ê—à—É—Ä–∞",
            "2024-09-14": "–ú–µ–≤–ª–∏–¥ –ö–∞–Ω–¥–∏–ª–ª–∏",

            // 2025 (–ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–Ω–∏ –≤—ä–∑ –æ—Å–Ω–æ–≤–∞ –Ω–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä–∞ –Ω–∞ –î–∏—è–Ω–µ—Ç –∑–∞ 2025 –≥. –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞ –∑–∞—è–≤–∫–∞ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è –∑–∞ –ö—É—Ä–±–∞–Ω –ë–∞–π—Ä–∞–º)
            "2025-01-30": "–ù–æ—â—Ç–∞ –Ω–∞ –†–µ–≥–∞–∏–±",
            "2025-02-26": "–ù–æ—â—Ç–∞ –Ω–∞ –ú–∏—Ä–∞–¥–∂",
            "2025-03-15": "–ù–æ—â—Ç–∞ –Ω–∞ –ë–µ—Ä–∞—Ç",
            "2025-03-01": "–ù–∞—á–∞–ª–æ –Ω–∞ –†–∞–º–∞–∑–∞–Ω", 
            "2025-03-26": "–ù–æ—â—Ç–∞ –ö–∞–¥–∏—Ä",      
            "2025-03-31": "–†–∞–º–∞–∑–∞–Ω –ë–∞–π—Ä–∞–º - –î–µ–Ω 1", 
            "2025-04-01": "–†–∞–º–∞–∑–∞–Ω –ë–∞–π—Ä–∞–º - –î–µ–Ω 2", 
            "2025-04-02": "–†–∞–º–∞–∑–∞–Ω –ë–∞–π—Ä–∞–º - –î–µ–Ω 3", 
            "2025-06-05": "–î–µ–Ω—è—Ç –ê—Ä–∞—Ñ–∞",        
            "2025-06-06": "–ö—É—Ä–±–∞–Ω –ë–∞–π—Ä–∞–º - –î–µ–Ω 1", 
            "2025-06-07": "–ö—É—Ä–±–∞–Ω –ë–∞–π—Ä–∞–º - –î–µ–Ω 2", 
            "2025-06-08": "–ö—É—Ä–±–∞–Ω –ë–∞–π—Ä–∞–º - –î–µ–Ω 3", 
            "2025-06-09": "–ö—É—Ä–±–∞–Ω –ë–∞–π—Ä–∞–º - –î–µ–Ω 4", 
            "2025-06-26": "–ù–æ–≤–∞ –•–∏–¥–∂ri –≥–æ–¥–∏–Ω–∞ (1447 –≥. –ø–æ –•–∏–¥–∂—Ä–∞)", 
            "2025-07-05": "–ê—à—É—Ä–∞",              
            "2025-08-26": "–ú–µ–≤–ª–∏–¥ –ö–∞–Ω–¥–∏–ª–ª–∏"     
        };
        // --- –ö–†–ê–ô –ù–ê –î–ê–ù–ù–ò–¢–ï –ó–ê –°–í–ï–©–ï–ù–ò –î–ù–ò ---


        // DOM –ï–ª–µ–º–µ–Ω—Ç–∏
        const currentTimeEl = document.getElementById('current-time');
        const countdownEl = document.getElementById('countdown');
        const countdownTextEl = document.getElementById('countdown-text');
        const currentDateEl = document.getElementById('current-date');
        const currentDayEl = document.getElementById('current-day');
        const hijriDateEl = document.getElementById('hijri-date');
        const sacredDayInfoEl = document.getElementById('sacred-day-info'); 
        const prayerTimesListEl = document.getElementById('prayer-times-list');
        const loadingIndicatorEl = document.getElementById('loading-indicator');
        const errorMessageEl = document.getElementById('error-message');
        const selectedCityDisplay = document.getElementById('selected-city-display'); 
        const hiddenDateInput = document.getElementById('hidden-date-input'); 
        const returnTodayBtn = document.getElementById('return-today-btn'); // –ù–æ–≤ –±—É—Ç–æ–Ω

        // –ù–æ–≤–∏ DOM –ï–ª–µ–º–µ–Ω—Ç–∏ –∑–∞ –•–∞–º–±—É—Ä–≥–µ—Ä –º–µ–Ω—é—Ç–æ
        const hamburgerMenuBtn = document.getElementById('hamburger-menu-btn');
        const sideMenu = document.getElementById('side-menu');
        const closeSideMenuBtn = document.getElementById('close-side-menu-btn');
        const mainContentWrapper = document.getElementById('main-content-wrapper'); // –ù–æ–≤–∞ –æ–±–≤–∏–≤–∫–∞ –∑–∞ –æ—Å–Ω–æ–≤–Ω–æ—Ç–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ

        // –ü—Ä–µ–ø—Ä–∞—Ç–∫–∏ –∫—ä–º –±—É—Ç–æ–Ω–∏, –∫–æ–∏—Ç–æ –≤–µ—á–µ —Å–∞ –≤—ä—Ç—Ä–µ –≤ —Å—Ç—Ä–∞–Ω–∏—á–Ω–æ—Ç–æ –º–µ–Ω—é
        const locationSelectBtn = document.getElementById('location-select-btn');
        const countdownToggleButton = document.getElementById('countdown-toggle-btn');
        const datePickerBtn = document.getElementById('date-picker-btn');
        const languageToggleBtn = document.getElementById('language-toggle-btn');
        const openAdjustmentModalBtn = document.getElementById('open-adjustment-modal-btn');


        // –ú–æ–¥–∞–ª–∏ –∏ —Ç–µ—Ö–Ω–∏—Ç–µ –µ–ª–µ–º–µ–Ω—Ç–∏
        const citySelectionModal = document.getElementById('city-selection-modal'); 
        const cityListEl = document.getElementById('city-list');
        const closeCityModalBtn = document.getElementById('close-city-modal-btn');

        const adjustmentModal = document.getElementById('adjustment-modal');
        const prayerAdjustmentInputsContainer = document.getElementById('prayer-adjustment-inputs'); 
        const cancelAdjustmentBtn = document.getElementById('cancel-adjustment-btn');
        const saveAllAdjustmentsBtn = document.getElementById('save-all-adjustments-btn'); 

        // –ò–º–µ–Ω–∞ –Ω–∞ –Ω–∞–º–∞–∑–∏ –Ω–∞ –±—ä–ª–≥–∞—Ä—Å–∫–∏ (–û–±–µ–¥–Ω–∞ —â–µ —Å–µ –æ–±—Ä–∞–±–æ—Ç–≤–∞ —É—Å–ª–æ–≤–Ω–æ)
        const prayerNamesStandard = {
            Fajr: '–ó–æ—Ä–∞',
            Sunrise: '–ò–∑–≥—Ä–µ–≤',
            Dhuhr: '–û–±–µ–¥–Ω–∞', 
            Asr: '–°–ª–µ–¥–æ–±–µ–¥–Ω–∞',
            Maghrib: '–í–µ—á–µ—Ä–Ω–∞',
            Isha: '–ù–æ—â–Ω–∞'
        };

        const prayerNamesClassical = {
            Fajr: '–ó–∞–≥–æ–≤–µ–≤–∞–Ω–µ', 
            Sunrise: '–ò–∑–≥–∏—Ä–∞–Ω–µ', 
            Dhuhr: '–ü–ª–∞–¥–µ–Ω', 
            Asr: '–ò–∫–∏–Ω–¥–∏–µ', 
            Maghrib: '–ê—à–µ–º', 
            Isha: '–ô–µ—Ü–∏–µ' 
        };

        // –í—Å–∏—á–∫–∏ –∫–ª—é—á–æ–≤–µ –Ω–∞ –Ω–∞–º–∞–∑–∏ –∑–∞ –∏—Ç–µ—Ä–∞—Ü–∏—è
        const allPrayerKeys = ['Fajr', 'Sunrise', 'Dhuhr', 'Asr', 'Maghrib', 'Isha'];

        // –û–±—â–∏ –∫–æ—Ä–µ–∫—Ü–∏–∏, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∏ –∑–∞ –Ω–∞–º–∞–∑, –≤ –º–∏–Ω—É—Ç–∏ (–ø—Ä–∏–ª–∞–≥–∞—Ç —Å–µ –≤—ä—Ä—Ö—É –æ—Å–Ω–æ–≤–Ω–∏—Ç–µ –≤—Ä–µ–º–µ–Ω–∞)
        const adjustments = {
            Fajr: 0,
            Sunrise: -7,
            Dhuhr: 5,
            Asr: 4,
            Maghrib: 6,
            Isha: 0 
        };

        // –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω–∏ –≥—Ä–∞–¥—Å–∫–∏ –æ—Ç–º–µ—Å—Ç–≤–∞–Ω–∏—è —Å–ø—Ä—è–º–æ –°–æ—Ñ–∏—è (–º–∏–Ω—É—Ç–∏ –∑–∞ –¥–æ–±–∞–≤—è–Ω–µ/–∏–∑–≤–∞–∂–¥–∞–Ω–µ –æ—Ç –≤—Ä–µ–º–µ–Ω–∞—Ç–∞ –Ω–∞ –°–æ—Ñ–∏—è)
        // –¢–µ–∑–∏ –æ—Ç–º–µ—Å—Ç–≤–∞–Ω–∏—è –≤–µ—á–µ —â–µ —Å–µ –ø—Ä–∏–ª–∞–≥–∞—Ç –∫—ä–º –≤—Ä–µ–º–µ–Ω–∞—Ç–∞, –∏–∑–≤–ª–µ—á–µ–Ω–∏ –æ—Ç API –∑–∞ –°–æ—Ñ–∏—è.
        const cityOffsets = {
            "–°–æ—Ñ–∏—è": 0, // –ë–∞–∑–æ–≤ –≥—Ä–∞–¥, –±–µ–∑ –æ—Ç–º–µ—Å—Ç–≤–∞–Ω–µ
            "–ì–æ—Ü–µ –î–µ–ª—á–µ–≤": -1,
            "–Ø–∫–æ—Ä—É–¥–∞": -1,
            "–í–µ–ª–∏–Ω–≥—Ä–∞–¥": -3,
            "–ö–Ω–µ–∂–∞": -3,
            "–õ–æ–≤–µ—á": -5,
            "–°–º–æ–ª—è–Ω": -5,
            "–ü–ª–æ–≤–¥–∏–≤": -5,
            "–ü–ª–µ–≤–µ–Ω": -5,
            "–ú–∞–¥–∞–Ω": -6,
            "–ù–∏–∫–æ–ø–æ–ª": -6,
            "–ö–∞—Ä–ª–æ–≤–æ": -6,
            "–°–≤–∏—â–æ–≤": -8,
            "–ö—ä—Ä–¥–∂–∞–ª–∏": -8,
            "–ö—Ä—É–º–æ–≤–≥—Ä–∞–¥": -9,
            "–í–µ–ª–∏–∫–æ –¢—ä—Ä–Ω–æ–≤–æ": -9,
            "–°—Ç–∞—Ä–∞ –ó–∞–≥–æ—Ä–∞": -9,
            "–•–∞—Å–∫–æ–≤–æ": -9,
            "–ì–æ—Ä–Ω–∞ –û—Ä—è—Ö–æ–≤–∏—Ü–∞": -9,
            "–†—É—Å–µ": -10,
            "–¢–≤—ä—Ä–¥–∏—Ü–∞": -10,
            "–•–∞—Ä–º–∞–Ω–ª–∏": -10,
            "–ù–æ–≤–∞ –ó–∞–≥–æ—Ä–∞": -10,
            "–ö—É–±—Ä–∞—Ç": -12,
            "–†–∞–∑–≥—Ä–∞–¥": -12,
            "–ö–æ—Ç–µ–ª": -12,
            "–°–ª–∏–≤–µ–Ω": -12,
            "–Ø–º–±–æ–ª": -12,
            "–ò—Å–ø–µ—Ä–∏—Ö": -13,
            "–í–µ–ª–∏–∫–∏ –ü—Ä–µ—Å–ª–∞–≤": -13,
            "–¢—ä—Ä–≥–æ–≤–∏—â–µ": -13,
            "–°–∏—Ç–æ–≤–æ": -14,
            "–ö–∞–æ–ª–∏–Ω–æ–≤–æ": -14,
            "–ö–∞—Ä–Ω–æ–±–∞—Ç": -14,
            "–®—É–º–µ–Ω": -14,
            "–ù–æ–≤–∏ –ü–∞–∑–∞—Ä": -15,
            "–ê–π—Ç–æ—Å": -15,
            "–ü—Ä–æ–≤–∞–¥–∏—è": -16,
            "–ë—É—Ä–≥–∞—Å": -16,
            "–°–∏–ª–∏—Å—Ç—Ä–∞": -16,
            "–î–æ–±—Ä–∏—á": -17,
            "–ë—è–ª–∞": -17,
            "–ë–∞–ª—á–∏–∫": -18,
            "–í–∞—Ä–Ω–∞": -18,
            "–ö–∞–≤–∞—Ä–Ω–∞": -19
        };

        // –ö–∞—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –∏–º–µ–Ω–∞—Ç–∞ –Ω–∞ —Ö–∏–¥–∂—Ä–∞ –º–µ—Å–µ—Ü–∏—Ç–µ –∫—ä–º –±—ä–ª–≥–∞—Ä—Å–∫–∏
        const hijriMonthsBg = {
            "Muharram": "–ú—É—Ö–∞—Ä—Ä–µ–º",
            "Safar": "–°–∞—Ñ–µ—Ä",
            "Rabi' al-Awwal": "–†–∞–±–∏—é–ª–µ–≤–≤–µ–ª",
            "Rabi' al-Thani": "–†–∞–±–∏—é–ª–∞—Ö–∏—Ä",
            "Jumada al-Awwal": "–î–∂–µ–º–∞–∑–∏—é–ª–µ–≤–≤–µ–ª",
            "Jumada al-Thani": "–î–∂–µ–º–∞–∑–∏—é–ª–∞—Ö–∏—Ä",
            "Rajab": "–†–µ–¥–∂–µ–±",
            "Sha'ban": "–®–∞–±–∞–Ω",
            "Ramadan": "–†–∞–º–∞–∑–∞–Ω",
            "Shawwal": "–®–µ–≤–≤–∞–ª",
            "Dhul-Qadah": "–ó–∏–ª–∫–∞–¥–µ",
            "Dhul-Hijjah": "–ó–∏–ª—Ö–∏–¥–∂–µ"
        };

        let prayerTimes = {}; // –°—ä—Ö—Ä–∞–Ω—è–≤–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—Ç–µ –≤—Ä–µ–º–µ–Ω–∞ –∑–∞ –Ω–∞–º–∞–∑ (—Å–ª–µ–¥ –≤—Å–∏—á–∫–∏ –∫–æ—Ä–µ–∫—Ü–∏–∏ –∑–∞ –∏–∑–±—Ä–∞–Ω–∏—è –≥—Ä–∞–¥)
        let nextPrayerIndex = -1; // –ò–Ω–¥–µ–∫—Å –Ω–∞ —Å–ª–µ–¥–≤–∞—â–∏—è –Ω–∞–º–∞–∑ –≤ —Å–ø–∏—Å—ä–∫–∞
        let selectedCity = "–°–æ—Ñ–∏—è"; // –ì—Ä–∞–¥ –ø–æ –ø–æ–¥—Ä–∞–∑–±–∏—Ä–∞–Ω–µ
        let currentHijriDate = ''; // –ó–∞ —Å—ä—Ö—Ä–∞–Ω—è–≤–∞–Ω–µ –∏ –ø–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ —Ö–∏–¥–∂—Ä–∞ –¥–∞—Ç–∞
        let selectedDate = new Date(); // –°—ä—Ö—Ä–∞–Ω—è–≤–∞ —Ç–µ–∫—É—â–æ –∏–∑–±—Ä–∞–Ω–∞—Ç–∞ –¥–∞—Ç–∞ (–ø–æ –ø–æ–¥—Ä–∞–∑–±–∏—Ä–∞–Ω–µ –µ –¥–Ω–µ—Å)
        let customPrayerAdjustments = {}; // –°—ä—Ö—Ä–∞–Ω—è–≤–∞ –¥–µ—Ñ–∏–Ω–∏—Ä–∞–Ω–∏ –æ—Ç –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è –∫–æ—Ä–µ–∫—Ü–∏–∏ –∑–∞ –≤—Å–µ–∫–∏ –Ω–∞–º–∞–∑ {Fajr: 5, Dhuhr: -2}
        let isClassicalNamesActive = false; // –°—ä—Å—Ç–æ—è–Ω–∏–µ –∑–∞ –∫–æ–Ω–≤–µ–Ω—Ü–∏—è—Ç–∞ –∑–∞ –∏–º–µ–Ω—É–≤–∞–Ω–µ
        let isCountdownMode = false; // –°—ä—Å—Ç–æ—è–Ω–∏–µ –∑–∞ —Ä–µ–∂–∏–º –Ω–∞ –æ–±—Ä–∞—Ç–Ω–æ –±—Ä–æ–µ–Ω–µ –≤ —Å–ø–∏—Å—ä–∫–∞ —Å –Ω–∞–º–∞–∑–∏

        // –ì–ª–æ–±–∞–ª–Ω–∞ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞ –∑–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ –∑–∞ –æ–±—Ä–∞—Ç–Ω–æ –±—Ä–æ–µ–Ω–µ –Ω–∞ –æ—Ç–¥–µ–ª–Ω–∏—Ç–µ –Ω–∞–º–∞–∑–∏
        let individualCountdownIntervalId = null;
        // –ì–ª–æ–±–∞–ª–µ–Ω –º–∞—Å–∏–≤ –∑–∞ —Å—ä—Ö—Ä–∞–Ω—è–≤–∞–Ω–µ –Ω–∞ –¥–∞–Ω–Ω–∏ –∑–∞ –Ω–∞–º–∞–∑–∏ —Å –æ–±–µ–∫—Ç–∏ Date –∑–∞ –¥–∏–Ω–∞–º–∏—á–Ω–∏ –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏
        let prayersDataForDisplay = []; 

        // –í–∑–µ–º–∞–Ω–µ –Ω–∞ —Ç–µ–∫—É—â–∏—Ç–µ –∏–º–µ–Ω–∞ –Ω–∞ –Ω–∞–º–∞–∑–∏ –≤—ä–∑ –æ—Å–Ω–æ–≤–∞ –Ω–∞ —Å—ä—Å—Ç–æ—è–Ω–∏–µ—Ç–æ
        function getCurrentPrayerNames() {
            return isClassicalNamesActive ? prayerNamesClassical : prayerNamesStandard;
        }

        // –ü–æ–ø—ä–ª–≤–∞–Ω–µ –Ω–∞ —Å–ø–∏—Å—ä–∫–∞ —Å –≥—Ä–∞–¥–æ–≤–µ –≤ –º–æ–¥–∞–ª–Ω–∏—è –ø—Ä–æ–∑–æ—Ä–µ—Ü
        function populateCityList() {
            cityListEl.innerHTML = ''; // –ò–∑—á–∏—Å—Ç–≤–∞ –ø—Ä–µ–¥–∏—à–Ω–∏—è —Å–ø–∏—Å—ä–∫
            const sortedCities = Object.keys(cityOffsets).sort((a, b) => {
                if (a === "–°–æ—Ñ–∏—è") return -1;
                if (b === "–°–æ—Ñ–∏—è") return 1;
                return a.localeCompare(b);
            });

            sortedCities.forEach(city => {
                const cityItem = document.createElement('div');
                cityItem.className = 'city-list-item';
                if (city === selectedCity) {
                    cityItem.classList.add('selected');
                }
                cityItem.textContent = city;
                cityItem.dataset.city = city;
                cityItem.addEventListener('click', () => {
                    selectedCity = city;
                    selectedCityDisplay.textContent = selectedCity; // –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ —Ç–µ–∫—Å—Ç–∞ –∑–∞ –ø–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ –∏–∑–±—Ä–∞–Ω–∏—è –≥—Ä–∞–¥
                    closeCitySelectionModal();
                    closeSideMenu(); // –ó–∞—Ç–≤–∞—Ä—è–Ω–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—á–Ω–æ—Ç–æ –º–µ–Ω—é —Å–ª–µ–¥ –∏–∑–±–æ—Ä –Ω–∞ –≥—Ä–∞–¥
                    fetchPrayerTimes(); // –ò–∑–≤–ª–∏—á–∞–Ω–µ –Ω–∞ –≤—Ä–µ–º–µ–Ω–∞—Ç–∞ –∑–∞ –Ω–æ–≤–∏—è –≥—Ä–∞–¥
                    saveSettings(); // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø–∞–∑–≤–∞–Ω–µ –Ω–∞ –ø—Ä–æ–º—è–Ω–∞—Ç–∞ –Ω–∞ –≥—Ä–∞–¥–∞
                });
                cityListEl.appendChild(cityItem);
            });
        }

        // –§—É–Ω–∫—Ü–∏—è –∑–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –≤—Ä–µ–º–µ—Ç–æ –¥–æ HH:MM
        function formatTime(date) {
            const hours = String(date.getHours()).padStart(2, '0');
            const minutes = String(date.getMinutes()).padStart(2, '0');
            return `${hours}:${minutes}`;
        }

        // –§—É–Ω–∫—Ü–∏—è –∑–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –ø—Ä–æ–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ—Å—Ç—Ç–∞ (–∑–∞ —Ä–µ–∂–∏–º –Ω–∞ –æ–±—Ä–∞—Ç–Ω–æ –±—Ä–æ–µ–Ω–µ –≤ —Å–ø–∏—Å—ä–∫–∞)
        function formatDuration(milliseconds) {
            let prefix = '';
            if (milliseconds < 0) {
                prefix = '-';
                milliseconds = Math.abs(milliseconds); // –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ –∞–±—Å–æ–ª—é—Ç–Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç –∑–∞ –∏–∑—á–∏—Å–ª–µ–Ω–∏–µ
            }

            const totalSeconds = Math.floor(milliseconds / 1000);
            const hours = Math.floor(totalSeconds / 3600);
            const minutes = Math.floor((totalSeconds % 3600) / 60);
            const seconds = totalSeconds % 60;

            let timeParts = [];
            
            // –í–∏–Ω–∞–≥–∏ –≤–∫–ª—é—á–≤–∞–π—Ç–µ —á–∞—Å–æ–≤–µ, –º–∏–Ω—É—Ç–∏ –∏ —Å–µ–∫—É–Ω–¥–∏, –¥–æ–ø—ä–ª–Ω–µ–Ω–∏ —Å –¥–≤–µ —Ü–∏—Ñ—Ä–∏.
            timeParts.push(`${String(hours).padStart(2, '0')}—á`);
            timeParts.push(`${String(minutes).padStart(2, '0')}–º`);
            timeParts.push(`${String(seconds).padStart(2, '0')}—Å`);

            let timeDisplay = timeParts.join(' ');
            
            return prefix + timeDisplay.trim(); 
        }


        // –§—É–Ω–∫—Ü–∏—è –∑–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –¥–∞—Ç–∞—Ç–∞ –¥–æ –î–î.–ú–ú.–ì–ì–ì–ì
        function formatDate(date) {
            const day = String(date.getDate()).padStart(2, '0');
            const month = String(date.getMonth() + 1).padStart(2, '0'); // –ú–µ—Å–µ—Ü—ä—Ç –µ –±–∞–∑–∏—Ä–∞–Ω –Ω–∞ 0
            const year = date.getFullYear();
            return `${day}.${month}.${year}`;
        }

        // –§—É–Ω–∫—Ü–∏—è –∑–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –¥–∞—Ç–∞—Ç–∞ –¥–æ –ì–ì–ì–ì-–ú–ú-–î–î –∑–∞ input type="date" –∏ API –ø–æ–≤–∏–∫–≤–∞–Ω–∏—è
        function formatDateForInputAndLookup(date) {
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            return `${year}-${month}-${day}`;
        }

        // –§—É–Ω–∫—Ü–∏—è –∑–∞ –∏–∑–≤–ª–∏—á–∞–Ω–µ –Ω–∞ –∏–º–µ—Ç–æ –Ω–∞ –¥–µ–Ω—è –æ—Ç —Å–µ–¥–º–∏—Ü–∞—Ç–∞ –Ω–∞ –±—ä–ª–≥–∞—Ä—Å–∫–∏
        function getDayNameBg(date) {
            const days = ['–ù–µ–¥–µ–ª—è', '–ü–æ–Ω–µ–¥–µ–ª–Ω–∏–∫', '–í—Ç–æ—Ä–Ω–∏–∫', '–°—Ä—è–¥–∞', '–ß–µ—Ç–≤—ä—Ä—Ç—ä–∫', '–ü–µ—Ç—ä–∫', '–°—ä–±–æ—Ç–∞'];
            return days[date.getDay()];
        }

        // –§—É–Ω–∫—Ü–∏—è –∑–∞ –æ–ø—Ä–µ–¥–µ–ª—è–Ω–µ –Ω–∞ –∏–º–µ—Ç–æ –Ω–∞ –û–±–µ–¥–Ω–∞ (Dhuhr) –≤—ä–∑ –æ—Å–Ω–æ–≤–∞ –Ω–∞ –¥–µ–Ω—è –æ—Ç —Å–µ–¥–º–∏—Ü–∞—Ç–∞ –∏ —Ç–µ–∫—É—â–∏—è —Å—Ç–∏–ª –Ω–∞ –∏–º–µ–Ω—É–≤–∞–Ω–µ
        function getDhuhrName(date) {
            if (date.getDay() === 5) { // –ü–µ—Ç—ä–∫
                return isClassicalNamesActive ? "–î–∂—É–º–∞–π–æ" : "–î–∂—É–º–∞"; 
            }
            return isClassicalNamesActive ? "–ü–ª–∞–¥–µ–Ω" : "–û–±–µ–¥–Ω–∞";
        }

        // –§—É–Ω–∫—Ü–∏—è –∑–∞ –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ –¥–∏—Å–ø–ª–µ—è –Ω–∞ —Ç–µ–∫—É—â–æ—Ç–æ –≤—Ä–µ–º–µ
        function updateClock() {
            const now = new Date();
            currentTimeEl.textContent = formatTime(now);
        }

        // –§—É–Ω–∫—Ü–∏—è –∑–∞ –∏–∑–≤–ª–∏—á–∞–Ω–µ –Ω–∞ –≤—Ä–µ–º–µ–Ω–∞—Ç–∞ –∑–∞ –Ω–∞–º–∞–∑ –æ—Ç API
        async function fetchPrayerTimes() {
            // –ü–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ
            loadingIndicatorEl.classList.remove('hidden');
            errorMessageEl.classList.add('hidden'); 
            prayerTimesListEl.innerHTML = ''; // –ò–∑—á–∏—Å—Ç–≤–∞ –ø—Ä–µ–¥–∏—à–Ω–∏—Ç–µ –≤—Ä–µ–º–µ–Ω–∞

            // –ò–∑—á–∏—Å—Ç–≤–∞–Ω–µ –Ω–∞ –≤—Å–∏—á–∫–∏ —Ç–µ–∫—É—â–∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª–Ω–∏ –æ–±—Ä–∞—Ç–Ω–æ –±—Ä–æ–µ–Ω–µ –ø—Ä–µ–¥–∏ –∏–∑–≤–ª–∏—á–∞–Ω–µ –Ω–∞ –Ω–æ–≤–∏ –¥–∞–Ω–Ω–∏
            clearInterval(individualCountdownIntervalId);
            individualCountdownIntervalId = null;

            const currentDateStringForAPI = `${String(selectedDate.getDate()).padStart(2, '0')}-${String(selectedDate.getMonth() + 1).padStart(2, '0')}-${selectedDate.getFullYear()}`;

            // –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ –¥–∏—Å–ø–ª–µ—è –∑–∞ –≥—Ä–µ–≥–æ—Ä–∏–∞–Ω—Å–∫–∞ –¥–∞—Ç–∞ –∏ –¥–µ–Ω
            currentDateEl.textContent = formatDate(selectedDate);
            currentDayEl.textContent = getDayNameBg(selectedDate);
            selectedCityDisplay.textContent = selectedCity; // –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ —Ç–µ–∫—Å—Ç–∞ –∑–∞ –ø–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ –∏–∑–±—Ä–∞–Ω–∏—è –≥—Ä–∞–¥

            // –ò–∑–≤–ª–∏—á–∞–Ω–µ –Ω–∞ –±–∞–∑–æ–≤–∏—Ç–µ –≤—Ä–µ–º–µ–Ω–∞ –∑–∞ –°–æ—Ñ–∏—è —Å –ø–æ–º–æ—â—Ç–∞ –Ω–∞ –º–µ—Ç–æ–¥–∞ –Ω–∞ –î–∏—è–Ω–µ—Ç (method=10)
            const diyanetApiUrl = `https://api.aladhan.com/v1/timingsByCity/${currentDateStringForAPI}?city=Sofia&country=Bulgaria&method=10`;
            
            // –ò–∑–≤–ª–∏—á–∞–Ω–µ –Ω–∞ –≤—Ä–µ–º–µ—Ç–æ –∑–∞ –ù–æ—â–Ω–∞ (Isha) –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ —Å –ø–æ–º–æ—â—Ç–∞ –Ω–∞ –º–µ—Ç–æ–¥–∞ –Ω–∞ –ú—é—Å—é–ª–º–∞–Ω—Å–∫–∞—Ç–∞ —Å–≤–µ—Ç–æ–≤–Ω–∞ –ª–∏–≥–∞ (method=3)
            const mwlIshaApiUrl = `https://api.aladhan.com/v1/timingsByCity/${currentDateStringForAPI}?city=Sofia&country=Bulgaria&method=3`;

            try {
                const [diyanetResponse, mwlIshaResponse] = await Promise.all([
                    fetch(diyanetApiUrl),
                    fetch(mwlIshaApiUrl)
                ]);

                if (!diyanetResponse.ok || !mwlIshaResponse.ok) {
                    throw new Error(`HTTP –≥—Ä–µ—à–∫–∞! –°—Ç–∞—Ç—É—Å–∏: –î–∏—è–Ω–µ—Ç ${diyanetResponse.status}, MWL ${mwlIshaResponse.status}`);
                }

                const diyanetData = await diyanetResponse.json();
                const mwlIshaData = await mwlIshaResponse.json();

                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞ –æ—Å–Ω–æ–≤–Ω–∏ –¥–∞–Ω–Ω–∏ –∑–∞ –∏–∑—á–∏—Å–ª–µ–Ω–∏–µ –Ω–∞ –≤—Ä–µ–º–µ–Ω–∞—Ç–∞ –∑–∞ –Ω–∞–º–∞–∑
                if (!diyanetData.data || !diyanetData.data.timings || !mwlIshaData.data || !mwlIshaData.data.timings) {
                    throw new Error('–ù–µ–≤–∞–ª–∏–¥–µ–Ω –æ—Ç–≥–æ–≤–æ—Ä –æ—Ç API –∏–ª–∏ –ª–∏–ø—Å–≤–∞—â–∏ –æ—Å–Ω–æ–≤–Ω–∏ –¥–∞–Ω–Ω–∏ –∑–∞ –≤—Ä–µ–º–µ–Ω–∞ –∑–∞ –Ω–∞–º–∞–∑.');
                }

                // –ü—Ä–æ–¥—ä–ª–∂–µ—Ç–µ —Å –∏–∑—á–∏—Å–ª—è–≤–∞–Ω–µ—Ç–æ –Ω–∞ –≤—Ä–µ–º–µ–Ω–∞—Ç–∞ –∑–∞ –Ω–∞–º–∞–∑
                const sofiaBaseTimings = {
                    Fajr: diyanetData.data.timings.Fajr,
                    Sunrise: diyanetData.data.timings.Sunrise,
                    Dhuhr: diyanetData.data.timings.Dhuhr,
                    Asr: diyanetData.data.timings.Asr,
                    Maghrib: diyanetData.data.timings.Maghrib,
                    Isha: mwlIshaData.data.timings.Isha // –ó–∞–º–µ–Ω—è–Ω–µ –Ω–∞ Isha —Å –≤—Ä–µ–º–µ—Ç–æ –Ω–∞ MWL
                };

                const currentCityCustomOffset = cityOffsets[selectedCity] || 0;
                const adjustedPrayerTimes = {};

                // –ü—Ä–∏–ª–∞–≥–∞–Ω–µ –Ω–∞ –æ–±—â–∏ –∏ –≥—Ä–∞–¥—Å–∫–∏ –æ—Ç–º–µ—Å—Ç–≤–∞–Ω–∏—è –∫—ä–º –∏–∑–≤–ª–µ—á–µ–Ω–∏—Ç–µ –æ—Ç API –≤—Ä–µ–º–µ–Ω–∞ –∑–∞ –°–æ—Ñ–∏—è
                for (const key of allPrayerKeys) { // –ò—Ç–µ—Ä–∏—Ä–∞–Ω–µ –ø—Ä–µ–∑ –≤—Å–∏—á–∫–∏ –∫–ª—é—á–æ–≤–µ –Ω–∞ –Ω–∞–º–∞–∑–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–µ–Ω —Ä–µ–¥
                    if (sofiaBaseTimings.hasOwnProperty(key)) {
                        let [hour, minute] = sofiaBaseTimings[key].split(':').map(Number);
                        let tempDate = new Date(selectedDate.getFullYear(), selectedDate.getMonth(), selectedDate.getDate(), hour, minute, 0);

                        // –ü—Ä–∏–ª–∞–≥–∞–Ω–µ –Ω–∞ –æ–±—â–∞ –∫–æ—Ä–µ–∫—Ü–∏—è, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞ –∑–∞ –Ω–∞–º–∞–∑
                        if (adjustments[key] !== undefined) { 
                            tempDate.setMinutes(tempDate.getMinutes() + adjustments[key]);
                        }
                        // –ü—Ä–∏–ª–∞–≥–∞–Ω–µ –Ω–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω–æ –æ—Ç–º–µ—Å—Ç–≤–∞–Ω–µ, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ –∑–∞ –≥—Ä–∞–¥–∞
                        tempDate.setMinutes(tempDate.getMinutes() + currentCityCustomOffset);

                        // –ü—Ä–∏–ª–∞–≥–∞–Ω–µ –Ω–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω–∞ –∫–æ—Ä–µ–∫—Ü–∏—è –æ—Ç –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è (–æ—Ç –ª–æ–∫–∞–ª–Ω–æ—Ç–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ)
                        if (customPrayerAdjustments[key] !== undefined) {
                            tempDate.setMinutes(tempDate.getMinutes() + customPrayerAdjustments[key]);
                        }

                        adjustedPrayerTimes[key] = formatTime(tempDate);
                    }
                }
                
                prayerTimes = adjustedPrayerTimes; // –°—ä—Ö—Ä–∞–Ω—è–≤–∞–Ω–µ –Ω–∞ –Ω–∞–ø—ä–ª–Ω–æ –∫–æ—Ä–∏–≥–∏—Ä–∞–Ω–∏—Ç–µ –≤—Ä–µ–º–µ–Ω–∞

                // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ —Ö–∏–¥–∂—Ä–∞ –¥–∞—Ç–∞—Ç–∞ –æ—Ç–¥–µ–ª–Ω–æ —Å—ä—Å —Å–æ–±—Å—Ç–≤–µ–Ω–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç
                if (diyanetData.data.date && diyanetData.data.date.hijri) {
                    const hijri = diyanetData.data.date.hijri;
                    if (hijri.day && hijri.month && hijri.month.en && hijri.year) {
                        const hijriDay = hijri.day;
                        const hijriMonthEnglish = hijri.month.en;
                        const hijriYear = hijri.year;
                        const hijriMonthBg = hijriMonthsBg[hijriMonthEnglish] || hijriMonthEnglish; 
                        currentHijriDate = `${hijriDay} ${hijriMonthBg} ${hijriYear} –≥.`; 
                        hijriDateEl.textContent = currentHijriDate;
                    } else {
                        console.warn("–î–∞–Ω–Ω–∏—Ç–µ –∑–∞ —Ö–∏–¥–∂—Ä–∞ –¥–∞—Ç–∞ —Å–∞ –Ω–µ–ø—ä–ª–Ω–∏ –æ—Ç –æ—Ç–≥–æ–≤–æ—Ä–∞ –Ω–∞ API.");
                        currentHijriDate = '–ù—è–º–∞ —Ö–∏–¥–∂—Ä–∏ –¥–∞—Ç–∞';
                        hijriDateEl.textContent = currentHijriDate;
                    }
                } else {
                    console.warn("–û–±–µ–∫—Ç—ä—Ç –∑–∞ —Ö–∏–¥–∂—Ä–∞ –¥–∞—Ç–∞ –ª–∏–ø—Å–≤–∞ –æ—Ç –æ—Ç–≥–æ–≤–æ—Ä–∞ –Ω–∞ API.");
                    currentHijriDate = '–ù—è–º–∞ —Ö–∏–¥–∂—Ä–∏ –¥–∞—Ç–∞';
                    hijriDateEl.textContent = currentHijriDate;
                }

                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –ø–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ —Å–≤–µ—â–µ–Ω–∏—è –¥–µ–Ω/–Ω–æ—â
                const sacredDayKey = formatDateForInputAndLookup(selectedDate);
                if (sacredDays[sacredDayKey]) {
                    sacredDayInfoEl.textContent = sacredDays[sacredDayKey]; 
                    sacredDayInfoEl.classList.remove('hidden');
                } else {
                    sacredDayInfoEl.textContent = '';
                    sacredDayInfoEl.classList.add('hidden');
                }

                displayPrayerTimes(); // –ò–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ –ø–æ–∫–∞–∑–≤–∞–Ω–µ –∑–∞ —Ä–µ–Ω–¥–∏—Ä–∞–Ω–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –æ–±—Ä–∞—Ç–Ω–æ—Ç–æ –±—Ä–æ–µ–Ω–µ
                
            } catch (error) {
                console.error('–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –∏–∑–≤–ª–∏—á–∞–Ω–µ –Ω–∞ –≤—Ä–µ–º–µ–Ω–∞—Ç–∞ –∑–∞ –Ω–∞–º–∞–∑:', error);
                errorMessageEl.classList.remove('hidden');
                errorMessageEl.textContent = `–í—ä–∑–Ω–∏–∫–Ω–∞ –≥—Ä–µ—à–∫–∞ –ø—Ä–∏ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ –Ω–∞ –≤—Ä–µ–º–µ–Ω–∞—Ç–∞ –∑–∞ –Ω–∞–º–∞–∑: ${error.message}. –ú–æ–ª—è, –ø—Ä–æ–≤–µ—Ä–µ—Ç–µ –≤—Ä—ä–∑–∫–∞—Ç–∞ —Å–∏ –∏ –æ–ø–∏—Ç–∞–π—Ç–µ –æ—Ç–Ω–æ–≤–æ.`;
                prayerTimes = {};
                prayerTimesListEl.innerHTML = '';
                hijriDateEl.textContent = '';
                sacredDayInfoEl.textContent = '';
                sacredDayInfoEl.classList.add('hidden');
            } finally {
                // –°–∫—Ä–∏–≤–∞–Ω–µ –Ω–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –∑–∞ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ
                loadingIndicatorEl.classList.add('hidden');
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –∑–∞ –ø–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ –≤—Ä–µ–º–µ–Ω–∞—Ç–∞ –∑–∞ –Ω–∞–º–∞–∑ –≤ —Å–ø–∏—Å—ä–∫–∞
        function displayPrayerTimes() {
            prayerTimesListEl.innerHTML = ''; // –ò–∑—á–∏—Å—Ç–≤–∞ –ø—Ä–µ–¥–∏—à–Ω–∏—Ç–µ –≤—Ä–µ–º–µ–Ω–∞

            const now = new Date(); // –¢–µ–∫—É—â–æ –≤—Ä–µ–º–µ –∑–∞ –ø—ä—Ä–≤–æ–Ω–∞—á–∞–ª–Ω–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
            const targetDate = selectedDate; 
            
            prayersDataForDisplay = []; // –ò–∑—á–∏—Å—Ç–≤–∞–Ω–µ –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –ø–æ–ø—ä–ª–≤–∞–Ω–µ –Ω–∞ –≥–ª–æ–±–∞–ª–Ω–∏—è –º–∞—Å–∏–≤

            const currentPrayerNames = getCurrentPrayerNames();

            for (const key of allPrayerKeys) { 
                if (prayerTimes.hasOwnProperty(key)) {
                    const [hour, minute] = prayerTimes[key].split(':').map(Number);
                    let prayerDate = new Date(targetDate.getFullYear(), targetDate.getMonth(), targetDate.getDate(), hour, minute, 0);

                    let displayName = currentPrayerNames[key] || key;
                    if (key === 'Dhuhr') {
                        displayName = getDhuhrName(targetDate); 
                    }

                    prayersDataForDisplay.push({
                        name: key,
                        displayName: displayName,
                        staticTime: formatTime(prayerDate), // –°—ä—Ö—Ä–∞–Ω—è–≤–∞–Ω–µ –Ω–∞ —Å—Ç–∞—Ç–∏—á–Ω–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–∞–Ω–æ –≤—Ä–µ–º–µ
                        date: prayerDate // –°—ä—Ö—Ä–∞–Ω—è–≤–∞–Ω–µ –Ω–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–Ω–∏—è –æ–±–µ–∫—Ç Date –∑–∞ –æ–±—Ä–∞—Ç–Ω–æ –±—Ä–æ–µ–Ω–µ
                    });
                }
            }

            // –°–æ—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –Ω–∞–º–∞–∑–∏—Ç–µ –ø–æ –≤—Ä–µ–º–µ –∑–∞ –æ—Å–∏–≥—É—Ä—è–≤–∞–Ω–µ –Ω–∞ –ø—Ä–∞–≤–∏–ª–µ–Ω —Ä–µ–¥
            prayersDataForDisplay.sort((a, b) => a.date.getTime() - b.date.getTime());

            // –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ –æ—Ç–¥–µ–ª–Ω–∞ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞ –∑–∞ –ø–æ–¥—á–µ—Ä—Ç–∞–≤–∞–Ω–µ
            let highlightIndex = -1; 

            if (selectedDate.toDateString() === new Date().toDateString()) {
                // –ü–æ–¥—á–µ—Ä—Ç–∞–≤–∞–π—Ç–µ —Å–∞–º–æ –∞–∫–æ –µ –¥–Ω–µ—à–Ω–∞—Ç–∞ –¥–∞—Ç–∞
                for (let i = 0; i < prayersDataForDisplay.length; i++) {
                    if (prayersDataForDisplay[i].date > now) { 
                        highlightIndex = i; // –ù–∞–º–µ—Ä–µ–Ω –µ –±—ä–¥–µ—â –Ω–∞–º–∞–∑ –∑–∞ —Ç–µ–∫—É—â–∏—è –¥–µ–Ω, –∫–æ–π—Ç–æ –¥–∞ –±—ä–¥–µ –ø–æ–¥—á–µ—Ä—Ç–∞–Ω
                        break;
                    }
                }
                // –ê–∫–æ –≤—Å–∏—á–∫–∏ –Ω–∞–º–∞–∑–∏ –∑–∞ –¥–Ω–µ—Å —Å–∞ –º–∏–Ω–∞–ª–∏, highlightIndex —â–µ –æ—Å—Ç–∞–Ω–µ -1,
                // –∫–æ–µ—Ç–æ –æ–∑–Ω–∞—á–∞–≤–∞, —á–µ –Ω—è–º–∞ –¥–∞ –±—ä–¥–µ –ø–æ–¥—á–µ—Ä—Ç–∞–Ω –Ω–∞–º–∞–∑, –∫–æ–µ—Ç–æ –µ –∂–µ–ª–∞–Ω–æ—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.
            } else {
                // –ó–∞ –º–∏–Ω–∞–ª–∏ –∏–ª–∏ –±—ä–¥–µ—â–∏ –∏–∑–±—Ä–∞–Ω–∏ –¥–∞—Ç–∏ –Ω–µ —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–º–∞ –ø–æ–¥—á–µ—Ä—Ç–∞–≤–∞–Ω–µ.
                highlightIndex = -1; 
            }

            // –†–µ–Ω–¥–∏—Ä–∞–Ω–µ –Ω–∞ –≤—Ä–µ–º–µ–Ω–∞—Ç–∞ –∑–∞ –Ω–∞–º–∞–∑ –ø—ä—Ä–≤–æ–Ω–∞—á–∞–ª–Ω–æ —Å—ä—Å —Å—Ç–∞—Ç–∏—á–Ω–∏ –≤—Ä–µ–º–µ–Ω–∞
            prayersDataForDisplay.forEach((prayer, index) => {
                const prayerRow = document.createElement('div');
                prayerRow.className = 'prayer-row';

                // –ü—Ä–∏–ª–∞–≥–∞–Ω–µ –Ω–∞ –ø–æ–¥—á–µ—Ä—Ç–∞–≤–∞–Ω–µ –≤—ä–∑ –æ—Å–Ω–æ–≤–∞ –Ω–∞ –æ—Ç–¥–µ–ª–Ω–∏—è highlightIndex
                if (index === highlightIndex) {
                    prayerRow.classList.add('highlighted-prayer');
                }

                // –†–µ–Ω–¥–∏—Ä–∞–Ω–µ —Å—ä—Å —Å—Ç–∞—Ç–∏—á–Ω–æ –≤—Ä–µ–º–µ. –î–∏–Ω–∞–º–∏—á–Ω–∏—Ç–µ –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏ —â–µ –≥–æ –ø—Ä–µ–∑–∞–ø–∏—à–∞—Ç, –∞–∫–æ —Ä–µ–∂–∏–º—ä—Ç –Ω–∞ –æ–±—Ä–∞—Ç–Ω–æ –±—Ä–æ–µ–Ω–µ –µ –∞–∫—Ç–∏–≤–µ–Ω.
                prayerRow.innerHTML = `
                    <span class="prayer-name">${prayer.displayName}</span>
                    <div class="flex items-center">
                        <span class="prayer-time" id="prayer-time-${prayer.name}">${prayer.staticTime}</span>
                    </div>
                `;
                prayerTimesListEl.appendChild(prayerRow);
            });

            startStopIndividualCountdowns(); // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ –∑–∞ –æ–±—Ä–∞—Ç–Ω–æ –±—Ä–æ–µ–Ω–µ –Ω–∞ –æ—Ç–¥–µ–ª–Ω–∏—Ç–µ –Ω–∞–º–∞–∑–∏
            updateCountdown(); // –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ—Ç–æ –æ–±—Ä–∞—Ç–Ω–æ –±—Ä–æ–µ–Ω–µ (–¥–æ —Å–ª–µ–¥–≤–∞—â–∏—è –Ω–∞–º–∞–∑)
        }

        // –§—É–Ω–∫—Ü–∏—è –∑–∞ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ –∏–ª–∏ —Å–ø–∏—Ä–∞–Ω–µ –Ω–∞ –æ–±—Ä–∞—Ç–Ω–æ –±—Ä–æ–µ–Ω–µ –Ω–∞ –æ—Ç–¥–µ–ª–Ω–∏ –Ω–∞–º–∞–∑–∏ –≤ —Å–ø–∏—Å—ä–∫–∞
        function startStopIndividualCountdowns() {
            clearInterval(individualCountdownIntervalId); // –í–∏–Ω–∞–≥–∏ –∏–∑—á–∏—Å—Ç–≤–∞–π—Ç–µ –≤—Å–µ–∫–∏ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—â –∏–Ω—Ç–µ—Ä–≤–∞–ª –ø—ä—Ä–≤–æ
            individualCountdownIntervalId = null;

            if (isCountdownMode && selectedDate.toDateString() === new Date().toDateString()) {
                // –ê–∫–æ –µ –≤ —Ä–µ–∂–∏–º –Ω–∞ –æ–±—Ä–∞—Ç–Ω–æ –±—Ä–æ–µ–Ω–µ –ò –µ –¥–Ω–µ—à–Ω–∞ –¥–∞—Ç–∞, —Å—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ –¥–∏–Ω–∞–º–∏—á–Ω–∏—Ç–µ –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏
                updateIndividualCountdowns(); // –ò–∑–≤–∏–∫–∞–π—Ç–µ –≤–µ–¥–Ω—ä–∂ –Ω–µ–∑–∞–±–∞–≤–Ω–æ, –∑–∞ –¥–∞ –∑–∞–¥–∞–¥–µ—Ç–µ –ø—ä—Ä–≤–æ–Ω–∞—á–∞–ª–Ω–æ—Ç–æ –æ–±—Ä–∞—Ç–Ω–æ –±—Ä–æ–µ–Ω–µ
                individualCountdownIntervalId = setInterval(updateIndividualCountdowns, 1000);
            } else {
                // –ê–∫–æ –Ω–µ –µ –≤ —Ä–µ–∂–∏–º –Ω–∞ –æ–±—Ä–∞—Ç–Ω–æ –±—Ä–æ–µ–Ω–µ –∏–ª–∏ –Ω–µ –µ –¥–Ω–µ—à–Ω–∞ –¥–∞—Ç–∞, —É–≤–µ—Ä–µ—Ç–µ —Å–µ, —á–µ —Å–µ –ø–æ–∫–∞–∑–≤–∞—Ç —Å—Ç–∞—Ç–∏—á–Ω–∏ –≤—Ä–µ–º–µ–Ω–∞.
                // –¢–æ–∑–∏ —Ü–∏–∫—ä–ª –≥–∞—Ä–∞–Ω—Ç–∏—Ä–∞, —á–µ –∞–∫–æ –∏–∑–∫–ª—é—á–∏–º —Ä–µ–∂–∏–º–∞ –Ω–∞ –æ–±—Ä–∞—Ç–Ω–æ –±—Ä–æ–µ–Ω–µ, –≤—Ä–µ–º–µ–Ω–∞—Ç–∞ —â–µ —Å–µ –≤—ä—Ä–Ω–∞—Ç –∫—ä–º —Å—Ç–∞—Ç–∏—á–Ω–∏—Ç–µ.
                prayersDataForDisplay.forEach(prayer => {
                    const span = document.getElementById(`prayer-time-${prayer.name}`);
                    if (span) {
                        span.textContent = prayer.staticTime; // –í—Ä—ä—â–∞–Ω–µ –∫—ä–º —Å—Ç–∞—Ç–∏—á–Ω–æ –≤—Ä–µ–º–µ
                    }
                });
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –∑–∞ –¥–∏–Ω–∞–º–∏—á–Ω–æ –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ –æ–±—Ä–∞—Ç–Ω–æ –±—Ä–æ–µ–Ω–µ –Ω–∞ –æ—Ç–¥–µ–ª–Ω–∏ –Ω–∞–º–∞–∑–∏ –≤ —Å–ø–∏—Å—ä–∫–∞
        function updateIndividualCountdowns() {
            // –¢–∞–∑–∏ —Ñ—É–Ω–∫—Ü–∏—è —Å–µ –∏–∑–≤–∏–∫–≤–∞ —Å–∞–º–æ –∞–∫–æ isCountdownMode –µ true –∏ selectedDate –µ –¥–Ω–µ—à–Ω–∞ –¥–∞—Ç–∞
            const now = new Date();
            prayersDataForDisplay.forEach(prayer => {
                const span = document.getElementById(`prayer-time-${prayer.name}`);
                if (span) {
                    const diffMs = prayer.date.getTime() - now.getTime();
                    span.textContent = formatDuration(diffMs);
                }
            });
        }

        // –ü–æ–º–æ—â–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –∑–∞ –∏–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –Ω–∞ —Ä–∞–∑–ª–∏–∫–∞—Ç–∞ –≤ –≥–æ–¥–∏–Ω–∏, –º–µ—Å–µ—Ü–∏ –∏ –¥–Ω–∏ –º–µ–∂–¥—É –¥–≤–µ –¥–∞—Ç–∏
        function getYearsMonthsDaysDifference(d1, d2) { // d1 = –Ω–∞—á–∞–ª–Ω–∞ –¥–∞—Ç–∞ (—Å–µ–≥–∞), d2 = –∫—Ä–∞–π–Ω–∞ –¥–∞—Ç–∞ (selectedDate)
            let years = d2.getFullYear() - d1.getFullYear();
            let months = d2.getMonth() - d1.getMonth();
            let days = d2.getDate() - d1.getDate();

            // –ö–æ—Ä–µ–∫—Ü–∏—è –∑–∞ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª–Ω–∏ –¥–Ω–∏ (d2.getDate() < d1.getDate())
            if (days < 0) {
                months--;
                // –í–∑–µ–º–µ—Ç–µ –±—Ä–æ—è –¥–Ω–∏ –≤ –º–µ—Å–µ—Ü–∞ *–ø—Ä–µ–¥–∏* –º–µ—Å–µ—Ü–∞ –Ω–∞ d2 –≤ –≥–æ–¥–∏–Ω–∞—Ç–∞ –Ω–∞ d2
                let daysInPrevMonthOfD2 = new Date(d2.getFullYear(), d2.getMonth(), 0).getDate();
                days += daysInPrevMonthOfD2;
            }

            // –ö–æ—Ä–µ–∫—Ü–∏—è –∑–∞ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª–Ω–∏ –º–µ—Å–µ—Ü–∏ (d2.getMonth() < d1.getMonth())
            if (months < 0) {
                years--;
                months += 12;
            }

            return { years, months, days };
        }

        // –§—É–Ω–∫—Ü–∏—è –∑–∞ –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ –æ–±—Ä–∞—Ç–Ω–æ—Ç–æ –±—Ä–æ–µ–Ω–µ –¥–æ —Å–ª–µ–¥–≤–∞—â–∏—è –Ω–∞–º–∞–∑ (–æ—Å–Ω–æ–≤–Ω–æ –æ–±—Ä–∞—Ç–Ω–æ –±—Ä–æ–µ–Ω–µ)
        function updateCountdown() {
            const now = new Date();

            if (selectedDate.toDateString() !== now.toDateString()) {
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –±—ä–¥–µ—â–∏/–º–∏–Ω–∞–ª–∏ –∏–∑–±—Ä–∞–Ω–∏ –¥–∞—Ç–∏
                const diff = getYearsMonthsDaysDifference(now, selectedDate);
                let displayMessage = '';
                returnTodayBtn.classList.remove('hidden'); // –ü–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ –±—É—Ç–æ–Ω–∞ "–í—Ä—ä—â–∞–Ω–µ –∫—ä–º –¥–Ω–µ—Å"

                if (selectedDate > now) { // –ë—ä–¥–µ—â–∞ –¥–∞—Ç–∞
                    if (diff.years > 0) {
                        displayMessage += `—Å–ª–µ–¥ ${diff.years} –≥.`;
                        if (diff.months > 0) {
                            displayMessage += ` ${diff.months} –º.`;
                        }
                    } else if (diff.months > 0) {
                        displayMessage += `—Å–ª–µ–¥ ${diff.months} –º.`;
                        if (diff.days > 0) {
                            displayMessage += ` ${diff.days} –¥–Ω–∏`;
                        }
                    } else if (diff.days > 0) {
                        displayMessage += `—Å–ª–µ–¥ ${diff.days} –¥–Ω–∏`;
                    } else { // –ú–Ω–æ–≥–æ –±–ª–∏–∑–∫–æ –±—ä–¥–µ—â–µ, –≤ —Ä–∞–º–∫–∏—Ç–µ –Ω–∞ —Å—ä—â–∏—Ç–µ –¥–Ω–µ–≤–Ω–∏ —á–∞—Å–æ–≤–µ
                        // –¢–æ–∑–∏ —Å–ª—É—á–∞–π –±–∏ —Ç—Ä—è–±–≤–∞–ª–æ –¥–∞ —Å–µ –æ–±—Ä–∞–±–æ—Ç–∏ –æ—Ç –ª–æ–≥–∏–∫–∞—Ç–∞ –∑–∞ "–¥–Ω–µ—à–Ω–∞ –¥–∞—Ç–∞", –∞–∫–æ `selectedDate` –µ –±—É–∫–≤–∞–ª–Ω–æ –¥–Ω–µ—Å.
                        // –ê–∫–æ –µ –±—ä–¥–µ—â–∞ –¥–∞—Ç–∞, –∫–æ—è—Ç–æ –µ —Å–∞–º–æ –Ω–∞ –Ω—è–∫–æ–ª–∫–æ —á–∞—Å–∞/–º–∏–Ω—É—Ç–∏, –Ω–æ –≤—Å–µ –æ—â–µ –Ω–∞ *—Ç–∞–∑–∏* –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞ –¥–∞—Ç–∞,
                        // –º–æ–∂–µ–º –¥–∞ –ø–æ–∫–∞–∂–µ–º –∑–∞–º–µ—Å—Ç–∏—Ç–µ–ª –∏–ª–∏ –¥–∞ –ø—Ä–µ–º–∏–Ω–µ–º –∫—ä–º –ª–æ–≥–∏–∫–∞—Ç–∞ –∑–∞ "–¥–Ω–µ—Å".
                        countdownEl.textContent = '--:--:--'; // –ë–µ–∑ –æ–±—Ä–∞—Ç–Ω–æ –±—Ä–æ–µ–Ω–µ –∑–∞ –∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª–Ω–∏ –±—ä–¥–µ—â–∏ –¥–∞—Ç–∏
                        countdownTextEl.textContent = '–ò–∑–±—Ä–∞–Ω–∞ –µ –±—ä–¥–µ—â–∞ –¥–∞—Ç–∞.'; 
                        return; // –ò–∑—Ö–æ–¥, —Ç—ä–π –∫–∞—Ç–æ —Ç–æ–≤–∞ –Ω–µ –µ –¥–Ω–µ—à–Ω–æ—Ç–æ –æ–±—Ä–∞—Ç–Ω–æ –±—Ä–æ–µ–Ω–µ
                    }
                    countdownEl.textContent = '--:--:--'; // –ë–µ–∑ –æ–±—Ä–∞—Ç–Ω–æ –±—Ä–æ–µ–Ω–µ –∑–∞ –∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª–Ω–∏ –±—ä–¥–µ—â–∏ –¥–∞—Ç–∏
                    countdownTextEl.textContent = displayMessage || '–ò–∑–±–µ—Ä–µ—Ç–µ –¥–∞—Ç–∞.'; // Fallback
                } else { // –ú–∏–Ω–∞–ª–∞ –¥–∞—Ç–∞
                    countdownEl.textContent = '--:--:--';
                    countdownTextEl.textContent = '–ò–∑–±—Ä–∞–Ω–∞ –µ –º–∏–Ω–∞–ª–∞ –¥–∞—Ç–∞.';
                }
                return; // –ò–∑—Ö–æ–¥, —Ç—ä–π –∫–∞—Ç–æ —Ç–æ–≤–∞ –Ω–µ –µ –¥–Ω–µ—à–Ω–æ—Ç–æ –æ–±—Ä–∞—Ç–Ω–æ –±—Ä–æ–µ–Ω–µ
            }

            // –ê–∫–æ selectedDate –ï –¥–Ω–µ—à–Ω–∞ –¥–∞—Ç–∞, –ø—Ä–æ–¥—ä–ª–∂–µ—Ç–µ —Å –Ω–æ—Ä–º–∞–ª–Ω–∞—Ç–∞ –ª–æ–≥–∏–∫–∞ –∑–∞ –æ–±—Ä–∞—Ç–Ω–æ –±—Ä–æ–µ–Ω–µ
            returnTodayBtn.classList.add('hidden'); // –°–∫—Ä–∏–≤–∞–Ω–µ –Ω–∞ –±—É—Ç–æ–Ω–∞ "–í—Ä—ä—â–∞–Ω–µ –∫—ä–º –¥–Ω–µ—Å"

            if (Object.keys(prayerTimes).length === 0) {
                countdownEl.textContent = '--:--:--';
                countdownTextEl.textContent = '–ù—è–º–∞ –æ—Ç–±—Ä–æ—è–≤–∞–Ω–µ –∑–∞ –∏–∑–±—Ä–∞–Ω–∞—Ç–∞ –¥–∞—Ç–∞.';
                return;
            }

            let nextPrayerTimeDate;
            let nextPrayerDisplayName;

            // –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ –≤–µ—á–µ –ø–æ–¥–≥–æ—Ç–≤–µ–Ω–∏—Ç–µ prayersDataForDisplay, –∑–∞ –¥–∞ –Ω–∞–º–µ—Ä–∏—Ç–µ —Å–ª–µ–¥–≤–∞—â–∏—è –Ω–∞–º–∞–∑
            // –ù—è–º–∞ –Ω—É–∂–¥–∞ –¥–∞ –∏–∑–≤–ª–∏—á–∞—Ç–µ –æ—Ç–Ω–æ–≤–æ API –¥–∞–Ω–Ω–∏ —Ç—É–∫
            
            let prayersArrayForCountdown = prayersDataForDisplay; // –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ –≥–ª–æ–±–∞–ª–Ω–æ –¥–æ—Å—Ç—ä–ø–Ω–∏—Ç–µ –¥–∞–Ω–Ω–∏

            nextPrayerIndex = -1; 
            for (let i = 0; i < prayersArrayForCountdown.length; i++) {
                if (prayersArrayForCountdown[i].date > now) {
                    nextPrayerIndex = i;
                    break;
                    }
                }
            
            if (nextPrayerIndex === -1 && prayersArrayForCountdown.length > 0) {
                // –í—Å–∏—á–∫–∏ –Ω–∞–º–∞–∑–∏ –∑–∞ –¥–Ω–µ—Å —Å–∞ –º–∏–Ω–∞–ª–∏. –ó–∞–¥–∞–π—Ç–µ nextPrayerIndex –Ω–∞ 0 –∑–∞ –æ–±—Ä–∞—Ç–Ω–æ –±—Ä–æ–µ–Ω–µ –Ω–∞ –§–∞–¥–∂—Ä –∑–∞ —É—Ç—Ä–µ.
                nextPrayerIndex = 0; 
                const nextDayFajr = new Date(prayersArrayForCountdown[0].date);
                nextDayFajr.setDate(nextDayFajr.getDate() + 1);
                nextPrayerTimeDate = nextDayFajr;
                nextPrayerDisplayName = prayersArrayForCountdown[0].displayName;
                countdownTextEl.textContent = `–¥–æ ${nextPrayerDisplayName} —É—Ç—Ä–µ`;
            } else if (nextPrayerIndex !== -1) {
                const nextPrayer = prayersArrayForCountdown[nextPrayerIndex];
                nextPrayerTimeDate = nextPrayer.date;
                nextPrayerDisplayName = nextPrayer.displayName;
                countdownTextEl.textContent = `–¥–æ ${nextPrayerDisplayName}`;
            } else {
                countdownEl.textContent = '00:00:00';
                countdownTextEl.textContent = '–í—Å–∏—á–∫–∏ –Ω–∞–º–∞–∑–∏ –∑–∞ –¥–Ω–µ—Å —Å–∞ –º–∏–Ω–∞–ª–∏.';
                return;
            }

            const diff = nextPrayerTimeDate.getTime() - now.getTime();

            if (diff <= 0) {
                countdownEl.textContent = '00:00:00';
                countdownTextEl.textContent = '–ù–∞–º–∞–∑—ä—Ç –µ —Å–µ–≥–∞!';
                fetchPrayerTimes(); 
                return;
            }

            const hours = Math.floor(diff / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);

            countdownEl.textContent = `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
        }

        // –§—É–Ω–∫—Ü–∏—è –∑–∞ –≤—Ä—ä—â–∞–Ω–µ –∫—ä–º –¥–Ω–µ—à–Ω–∞ –¥–∞—Ç–∞
        function returnToToday() {
            selectedDate = new Date();
            hiddenDateInput.value = formatDateForInputAndLookup(selectedDate);
            fetchPrayerTimes(); // –ò–∑–≤–ª–∏—á–∞–Ω–µ –æ—Ç–Ω–æ–≤–æ –∑–∞ –ø–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ –≤—Ä–µ–º–µ–Ω–∞—Ç–∞ –∑–∞ –¥–Ω–µ—Å
        }

        // --- –õ–æ–≥–∏–∫–∞ –∑–∞ –º–æ–¥–∞–ª–Ω–∏ –ø—Ä–æ–∑–æ—Ä—Ü–∏ ---

        // –ì–ª–æ–±–∞–ª–µ–Ω –º–æ–¥–∞–ª–µ–Ω –ø—Ä–æ–∑–æ—Ä–µ—Ü –∑–∞ –∫–æ—Ä–µ–∫—Ü–∏–∏ –Ω–∞ –Ω–∞–º–∞–∑–∏
        function openAdjustmentModal() {
            prayerAdjustmentInputsContainer.innerHTML = ''; // –ò–∑—á–∏—Å—Ç–≤–∞ –ø—Ä–µ–¥–∏—à–Ω–∏ –≤—Ö–æ–¥–æ–≤–µ
            const currentPrayerNames = getCurrentPrayerNames();

            allPrayerKeys.forEach(key => {
                const adjustmentValue = customPrayerAdjustments[key] !== undefined ? customPrayerAdjustments[key] : 0;
                const displayName = currentPrayerNames[key] || key; // –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ —Ç–µ–∫—É—â–∏—è –µ–∑–∏–∫
                const dhuhrDisplayName = key === 'Dhuhr' ? getDhuhrName(new Date()) : displayName; // –°–ø–µ—Ü–∏–∞–ª–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞ Dhuhr

                const inputRow = document.createElement('div');
                inputRow.className = 'adjustment-input-row';
                inputRow.innerHTML = `
                    <label for="adj-${key}">${dhuhrDisplayName}:</label>
                    <input type="number" id="adj-${key}" data-prayer-key="${key}" value="${adjustmentValue}" class="shadow appearance-none border rounded-lg py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline bg-gray-600 border-gray-500 text-white" placeholder="–ù–∞–ø—Ä. 5 –∏–ª–∏ -3">
                `;
                prayerAdjustmentInputsContainer.appendChild(inputRow);
            });
            
            adjustmentModal.classList.remove('hidden');
        }

        function closeAdjustmentModal() {
            adjustmentModal.classList.add('hidden');
            errorMessageEl.classList.add('hidden'); // –ò–∑—á–∏—Å—Ç–≤–∞–Ω–µ –Ω–∞ —Å—ä–æ–±—â–µ–Ω–∏–µ—Ç–æ –∑–∞ –≥—Ä–µ—à–∫–∞ –ø—Ä–∏ –∑–∞—Ç–≤–∞—Ä—è–Ω–µ –Ω–∞ –º–æ–¥–∞–ª–∞
            closeSideMenu(); // –ó–∞—Ç–≤–∞—Ä—è–Ω–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—á–Ω–æ—Ç–æ –º–µ–Ω—é —Å–ª–µ–¥ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –º–æ–¥–∞–ª–∞
        }

        function saveAllAdjustments() {
            let changesMade = false;
            allPrayerKeys.forEach(key => {
                const inputElement = document.getElementById(`adj-${key}`);
                if (inputElement) {
                    const newOffset = parseInt(inputElement.value, 10);
                    if (isNaN(newOffset)) {
                        errorMessageEl.textContent = `–ù–µ–≤–∞–ª–∏–¥–Ω–æ —á–∏—Å–ª–æ –∑–∞ –∫–æ—Ä–µ–∫—Ü–∏—è –Ω–∞ ${getCurrentPrayerNames()[key] || key}. –ú–æ–ª—è, –≤—ä–≤–µ–¥–µ—Ç–µ –≤–∞–ª–∏–¥–Ω–æ —á–∏—Å–ª–æ (–Ω–∞–ø—Ä. 5 –∏–ª–∏ -3).`;
                        errorMessageEl.classList.remove('hidden');
                        return; // –ò–∑—Ö–æ–¥, –∞–∫–æ –Ω—è–∫–æ–π –≤—Ö–æ–¥ –µ –Ω–µ–≤–∞–ª–∏–¥–µ–Ω
                    }

                    if (customPrayerAdjustments[key] !== newOffset) {
                        customPrayerAdjustments[key] = newOffset;
                        changesMade = true;
                    }
                }
            });

            if (changesMade) {
                saveSettings(); // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø–∞–∑–≤–∞–Ω–µ –Ω–∞ –≤—Å–∏—á–∫–∏ –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–Ω–∏ –∫–æ—Ä–µ–∫—Ü–∏–∏
                fetchPrayerTimes(); // –ò–∑–≤–ª–∏—á–∞–Ω–µ –∏ –ø–æ–∫–∞–∑–≤–∞–Ω–µ –æ—Ç–Ω–æ–≤–æ —Å –Ω–æ–≤–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω–∏ –∫–æ—Ä–µ–∫—Ü–∏–∏
            }
            closeAdjustmentModal();
        }


        // –§—É–Ω–∫—Ü–∏–∏ –∑–∞ –º–æ–¥–∞–ª–µ–Ω –ø—Ä–æ–∑–æ—Ä–µ—Ü –∑–∞ –∏–∑–±–æ—Ä –Ω–∞ –≥—Ä–∞–¥
        function openCitySelectionModal() {
            populateCityList(); // –ü–æ–ø—ä–ª–≤–∞–Ω–µ –Ω–∞ —Å–ø–∏—Å—ä–∫–∞ –ø—Ä–µ–¥–∏ –æ—Ç–≤–∞—Ä—è–Ω–µ
            citySelectionModal.classList.remove('hidden');
        }

        function closeCitySelectionModal() {
            citySelectionModal.classList.add('hidden');
        }

        // --- –§—É–Ω–∫—Ü–∏–∏ –∑–∞ —Å—Ç—Ä–∞–Ω–∏—á–Ω–æ –º–µ–Ω—é ---
        function openSideMenu() {
            sideMenu.classList.add('open');
            mainContentWrapper.style.transform = `translateX(${sideMenu.offsetWidth}px)`; // –ò–∑–±—É—Ç–≤–∞–Ω–µ –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ—Ç–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ
            document.body.style.overflow = 'hidden'; // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç—è–≤–∞ –ø—Ä–µ–≤—ä—Ä—Ç–∞–Ω–µ –Ω–∞ body
        }

        function closeSideMenu() {
            sideMenu.classList.remove('open');
            mainContentWrapper.style.transform = `translateX(0)`; // –í—Ä—ä—â–∞–Ω–µ –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ—Ç–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ
            document.body.style.overflow = ''; // –í—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞ –ø—Ä–µ–≤—ä—Ä—Ç–∞–Ω–µ—Ç–æ –Ω–∞ body
        }

        // --- Swipe Logic Variables ---
        let startX = 0;
        let currentX = 0;
        let diffX = 0;
        let isSwiping = false;
        const swipeThreshold = 50; // pixels to swipe to trigger action

        // --- Event Listeners for Swipe ---
        // For opening the menu (swipe right on main content)
        mainContentWrapper.addEventListener('touchstart', (e) => {
            if (sideMenu.classList.contains('open')) return; // Only process if menu is closed
            startX = e.touches[0].clientX;
            isSwiping = true;
            mainContentWrapper.style.transition = 'none'; // Disable transition for smooth drag
            sideMenu.style.transition = 'none';
        });

        mainContentWrapper.addEventListener('touchmove', (e) => {
            if (!isSwiping || sideMenu.classList.contains('open')) return;
            currentX = e.touches[0].clientX;
            diffX = currentX - startX;

            if (diffX > 0) { // Swiping right
                e.preventDefault(); // Prevent page scrolling
                const transformX = Math.min(diffX, sideMenu.offsetWidth);
                mainContentWrapper.style.transform = `translateX(${transformX}px)`;
                sideMenu.style.transform = `translateX(${transformX - sideMenu.offsetWidth}px)`;
            }
        });

        mainContentWrapper.addEventListener('touchend', (e) => {
            if (!isSwiping || sideMenu.classList.contains('open')) return;
            isSwiping = false;
            mainContentWrapper.style.transition = ''; // Re-enable transition
            sideMenu.style.transition = '';

            if (diffX > swipeThreshold) { // If swiped enough to the right
                openSideMenu();
            } else { // Snap back to closed
                mainContentWrapper.style.transform = `translateX(0)`;
                sideMenu.style.transform = `translateX(-${sideMenu.offsetWidth}px)`;
            }
            diffX = 0; // Reset diffX
        });

        // For closing the menu (swipe left on side menu)
        sideMenu.addEventListener('touchstart', (e) => {
            if (!sideMenu.classList.contains('open')) return; // Only process if menu is open
            startX = e.touches[0].clientX;
            isSwiping = true;
            mainContentWrapper.style.transition = 'none'; // Disable transition for smooth drag
            sideMenu.style.transition = 'none';
        });

        sideMenu.addEventListener('touchmove', (e) => {
            if (!isSwiping || !sideMenu.classList.contains('open')) return;
            currentX = e.touches[0].clientX;
            diffX = currentX - startX;

            if (diffX < 0) { // Swiping left
                e.preventDefault(); // Prevent page scrolling
                const transformX = Math.max(diffX, -sideMenu.offsetWidth);
                mainContentWrapper.style.transform = `translateX(${sideMenu.offsetWidth + transformX}px)`;
                sideMenu.style.transform = `translateX(${transformX}px)`;
            }
        });

        sideMenu.addEventListener('touchend', (e) => {
            if (!isSwiping || !sideMenu.classList.contains('open')) return;
            isSwiping = false;
            mainContentWrapper.style.transition = ''; // Re-enable transition
            sideMenu.style.transition = '';

            if (diffX < -swipeThreshold) { // If swiped enough to the left
                closeSideMenu();
            } else { // Snap back to open
                mainContentWrapper.style.transform = `translateX(${sideMenu.offsetWidth}px)`;
                sideMenu.style.transform = `translateX(0)`;
            }
            diffX = 0; // Reset diffX
        });

        // --- –§—É–Ω–∫—Ü–∏–∏ –∑–∞ –ª–æ–∫–∞–ª–Ω–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ ---
        function saveSettings() {
            const settingsToSave = {
                selectedCity: selectedCity,
                customPrayerAdjustments: customPrayerAdjustments,
                isClassicalNamesActive: isClassicalNamesActive
                // isCountdownMode —É–º–∏—à–ª–µ–Ω–æ –ù–ï —Å–µ –∑–∞–ø–∞–∑–≤–∞ –≤ localStorage —Ç—É–∫
            };
            try {
                localStorage.setItem('prayerApp_settings', JSON.stringify(settingsToSave));
                // –ü–æ –∏–∑–±–æ—Ä –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—è–Ω–µ –Ω–∞ –æ–±—Ä–∞—Ç–Ω–∞ –≤—Ä—ä–∑–∫–∞ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è:
                // console.log("–ù–∞—Å—Ç—Ä–æ–π–∫–∏—Ç–µ –∑–∞–ø–∞–∑–µ–Ω–∏ —É—Å–ø–µ—à–Ω–æ!");
            } catch (e) {
                console.error("–ù–µ—É—Å–ø–µ—à–Ω–æ –∑–∞–ø–∞–∑–≤–∞–Ω–µ –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏—Ç–µ –≤ localStorage:", e);
                errorMessageEl.textContent = '–ù–µ—É—Å–ø–µ—à–Ω–æ –∑–∞–ø–∞–∑–≤–∞–Ω–µ –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏—Ç–µ.';
                errorMessageEl.classList.remove('hidden');
            }
        }

        function loadSettings() {
            try {
                const savedSettings = JSON.parse(localStorage.getItem('prayerApp_settings'));
                if (savedSettings) {
                    selectedCity = savedSettings.selectedCity || "–°–æ—Ñ–∏—è";
                    customPrayerAdjustments = savedSettings.customPrayerAdjustments || {};
                    isClassicalNamesActive = savedSettings.isClassicalNamesActive || false;
                    // isCountdownMode —É–º–∏—à–ª–µ–Ω–æ –ù–ï —Å–µ –∑–∞—Ä–µ–∂–¥–∞ –æ—Ç localStorage —Ç—É–∫
                    
                    // –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ –µ–ª–µ–º–µ–Ω—Ç–∞ –∑–∞ –ø–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ –≥—Ä–∞–¥–∞
                    selectedCityDisplay.textContent = selectedCity;
                }
                // –í–∏–Ω–∞–≥–∏ –∑–∞–¥–∞–≤–∞–π—Ç–µ selectedDate –Ω–∞ –¥–Ω–µ—Å –ø—Ä–∏ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ
                selectedDate = new Date(); 
                // –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ —Å–∫—Ä–∏—Ç–∏—è input –µ–ª–µ–º–µ–Ω—Ç, —Ç–∞–∫–∞ —á–µ date picker –¥–∞ –æ—Ç—Ä–∞–∑—è–≤–∞ –¥–Ω–µ—à–Ω–∞—Ç–∞ –¥–∞—Ç–∞
                hiddenDateInput.value = formatDateForInputAndLookup(selectedDate);
            }
            catch (e) {
                console.error("–ù–µ—É—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏—Ç–µ –æ—Ç localStorage:", e);
                errorMessageEl.textContent = '–í—ä–∑–Ω–∏–∫–Ω–∞ –ø—Ä–æ–±–ª–µ–º –ø—Ä–∏ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏—Ç–µ. –ò–∑–ø–æ–ª–∑–≤–∞—Ç —Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ –ø–æ–¥—Ä–∞–∑–±–∏—Ä–∞–Ω–µ.';
                errorMessageEl.classList.remove('hidden');
                // –ü–æ –∏–∑–±–æ—Ä –∏–∑—á–∏—Å—Ç–≤–∞–Ω–µ –Ω–∞ –ø–æ–≤—Ä–µ–¥–µ–Ω–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –∞–∫–æ –µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ: localStorage.removeItem('prayerApp_settings');
            }
        }

        // –ü—ä—Ä–≤–æ–Ω–∞—á–∞–ª–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –ø–µ—Ä–∏–æ–¥–∏—á–Ω–∏ –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏
        window.onload = function() {
            loadSettings(); // –ü—ä—Ä–≤–æ –∑–∞—Ä–µ–¥–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏—Ç–µ
            
            updateClock(); // –°—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ –ø–æ–∫–∞–∑–≤–∞–Ω–µ—Ç–æ –Ω–∞ —Ç–µ–∫—É—â–æ—Ç–æ –≤—Ä–µ–º–µ
            fetchPrayerTimes(); // –ü—ä—Ä–≤–æ–Ω–∞—á–∞–ª–Ω–æ –∏–∑–≤–ª–∏—á–∞–Ω–µ –Ω–∞ –≤—Ä–µ–º–µ–Ω–∞—Ç–∞ –∑–∞ –Ω–∞–º–∞–∑ —Å –ø–æ–º–æ—â—Ç–∞ –Ω–∞ –∑–∞—Ä–µ–¥–µ–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

            // –°–ª—É—à–∞—Ç–µ–ª –Ω–∞ —Å—ä–±–∏—Ç–∏–µ –∑–∞ –±—É—Ç–æ–Ω–∞ –•–∞–º–±—É—Ä–≥–µ—Ä –∑–∞ –æ—Ç–≤–∞—Ä—è–Ω–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—á–Ω–æ—Ç–æ –º–µ–Ω—é
            hamburgerMenuBtn.addEventListener('click', openSideMenu);
            // –°–ª—É—à–∞—Ç–µ–ª –Ω–∞ —Å—ä–±–∏—Ç–∏–µ –∑–∞ –±—É—Ç–æ–Ω–∞ –ó–∞—Ç–≤–æ—Ä–∏ –≤—ä—Ç—Ä–µ –≤ —Å—Ç—Ä–∞–Ω–∏—á–Ω–æ—Ç–æ –º–µ–Ω—é
            closeSideMenuBtn.addEventListener('click', closeSideMenu);
            
            // –°–ª—É—à–∞—Ç–µ–ª –Ω–∞ —Å—ä–±–∏—Ç–∏–µ –∑–∞ –±—É—Ç–æ–Ω–∞ –∑–∞ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∑–∞ –æ—Ç–≤–∞—Ä—è–Ω–µ –Ω–∞ –º–æ–¥–∞–ª–Ω–∏—è –ø—Ä–æ–∑–æ—Ä–µ—Ü –∑–∞ –∏–∑–±–æ—Ä –Ω–∞ –≥—Ä–∞–¥ (–≤–µ—á–µ –≤—ä—Ç—Ä–µ –≤ —Å—Ç—Ä–∞–Ω–∏—á–Ω–æ—Ç–æ –º–µ–Ω—é)
            locationSelectBtn.addEventListener('click', openCitySelectionModal);
            
            // –§–∏–∫—Å–∏—Ä–∞–Ω —Å–ª—É—à–∞—Ç–µ–ª –Ω–∞ —Å—ä–±–∏—Ç–∏–µ –∑–∞ –∑–∞—Ç–≤–∞—Ä—è–Ω–µ –Ω–∞ –º–æ–¥–∞–ª–∞ –∑–∞ –≥—Ä–∞–¥ —Å –ø–æ–º–æ—â—Ç–∞ –Ω–∞ –±—É—Ç–æ–Ω–∞ –∑–∞ –∑–∞—Ç–≤–∞—Ä—è–Ω–µ
            closeCityModalBtn.addEventListener('click', closeCitySelectionModal);

            // –°–ª—É—à–∞—Ç–µ–ª –Ω–∞ —Å—ä–±–∏—Ç–∏–µ –∑–∞ –∑–∞—Ç–≤–∞—Ä—è–Ω–µ –Ω–∞ –º–æ–¥–∞–ª–∞ –∑–∞ –≥—Ä–∞–¥ —á—Ä–µ–∑ —â—Ä–∞–∫–≤–∞–Ω–µ –≤—ä—Ä—Ö—É overlay
            citySelectionModal.addEventListener('click', (event) => {
                // –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –¥–∞–ª–∏ —â—Ä–∞–∫–≤–∞–Ω–µ—Ç–æ –µ —Å—Ç–∞–Ω–∞–ª–æ –¥–∏—Ä–µ–∫—Ç–Ω–æ –≤—ä—Ä—Ö—É modal-overlay (–Ω–µ –≤—ä—Ä—Ö—É —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ –º—É)
                if (event.target === citySelectionModal) {
                    closeCitySelectionModal();
                }
            });

            // –°–ª—É—à–∞—Ç–µ–ª –Ω–∞ —Å—ä–±–∏—Ç–∏–µ –∑–∞ –ù–û–í–ò–Ø –±—É—Ç–æ–Ω –∑–∞ –ø—Ä–µ–≤–∫–ª—é—á–≤–∞–Ω–µ –Ω–∞ –æ–±—Ä–∞—Ç–Ω–æ –±—Ä–æ–µ–Ω–µ (–≤–µ—á–µ –≤—ä—Ç—Ä–µ –≤ —Å—Ç—Ä–∞–Ω–∏—á–Ω–æ—Ç–æ –º–µ–Ω—é)
            countdownToggleButton.addEventListener('click', () => {
                isCountdownMode = !isCountdownMode;
                saveSettings(); // –ó–∞–ø–∞–∑–≤–∞–Ω–µ –Ω–∞ –Ω–æ–≤–∏—è —Ä–µ–∂–∏–º (–≤—ä–ø—Ä–µ–∫–∏ —á–µ –Ω–µ –µ –ø–æ—Å—Ç–æ—è–Ω–µ–Ω –∑–∞ isCountdownMode)
                displayPrayerTimes(); // –ü–æ–∫–∞–∑–≤–∞–Ω–µ –æ—Ç–Ω–æ–≤–æ –Ω–∞ –≤—Ä–µ–º–µ–Ω–∞—Ç–∞ –∑–∞ –Ω–∞–º–∞–∑ —Å –Ω–æ–≤–∏—è —Ä–µ–∂–∏–º
                closeSideMenu(); // –ó–∞—Ç–≤–∞—Ä—è–Ω–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—á–Ω–æ—Ç–æ –º–µ–Ω—é —Å–ª–µ–¥ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ –Ω–∞ –¥–µ–π—Å—Ç–≤–∏–µ—Ç–æ
            });

            // –°–ª—É—à–∞—Ç–µ–ª –Ω–∞ —Å—ä–±–∏—Ç–∏–µ –∑–∞ –Ω–æ–≤–∏—è –±—É—Ç–æ–Ω –∑–∞ –∏–∑–±–æ—Ä –Ω–∞ –¥–∞—Ç–∞, –∑–∞ –¥–∞ –∑–∞–¥–µ–π—Å—Ç–≤–∞ —Å–∫—Ä–∏—Ç–∏—è –≤—Ö–æ–¥ (–≤–µ—á–µ –≤—ä—Ç—Ä–µ –≤ —Å—Ç—Ä–∞–Ω–∏—á–Ω–æ—Ç–æ –º–µ–Ω—é)
            datePickerBtn.addEventListener('click', (event) => { // –î–æ–±–∞–≤–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—ä—Ä event
                hiddenDateInput.showPicker(); // –û—Ç–≤–∞—Ä—è–Ω–µ –Ω–∞ –Ω–∞—Ç–∏–≤–Ω–∏—è –∏–∑–±–æ—Ä –Ω–∞ –¥–∞—Ç–∞
            });

            // –°–ª—É—à–∞—Ç–µ–ª –Ω–∞ —Å—ä–±–∏—Ç–∏–µ –∑–∞ –ø—Ä–æ–º—è–Ω–∞ –Ω–∞ —Å–∫—Ä–∏—Ç–∏—è –≤—Ö–æ–¥ –∑–∞ –¥–∞—Ç–∞
            hiddenDateInput.addEventListener('change', (event) => {
                selectedDate = new Date(event.target.value);
                fetchPrayerTimes(); // –ò–∑–≤–ª–∏—á–∞–Ω–µ –æ—Ç–Ω–æ–≤–æ –Ω–∞ –≤—Ä–µ–º–µ–Ω–∞—Ç–∞ –∑–∞ –Ω–æ–≤–æ–∏–∑–±—Ä–∞–Ω–∞—Ç–∞ –¥–∞—Ç–∞
                closeSideMenu(); // –ó–∞—Ç–≤–∞—Ä—è–Ω–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—á–Ω–æ—Ç–æ –º–µ–Ω—é —Å–ª–µ–¥ –∏–∑–±–æ—Ä –Ω–∞ –¥–∞—Ç–∞
            });

            // –°–ª—É—à–∞—Ç–µ–ª –Ω–∞ —Å—ä–±–∏—Ç–∏–µ –∑–∞ –±—É—Ç–æ–Ω–∞ –∑–∞ –ø—Ä–µ–≤–∫–ª—é—á–≤–∞–Ω–µ –Ω–∞ –µ–∑–∏–∫–∞ (–≤–µ—á–µ –≤—ä—Ç—Ä–µ –≤ —Å—Ç—Ä–∞–Ω–∏—á–Ω–æ—Ç–æ –º–µ–Ω—é)
            languageToggleBtn.addEventListener('click', (event) => { // –î–æ–±–∞–≤–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—ä—Ä event
                isClassicalNamesActive = !isClassicalNamesActive;
                saveSettings(); // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø–∞–∑–≤–∞–Ω–µ –Ω–∞ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–Ω–∏—è—Ç–∞ –∑–∞ –µ–∑–∏–∫
                fetchPrayerTimes(); // –ò–∑–≤–ª–∏—á–∞–Ω–µ/–ø–æ–∫–∞–∑–≤–∞–Ω–µ –æ—Ç–Ω–æ–≤–æ –∑–∞ –ø—Ä–∏–ª–∞–≥–∞–Ω–µ –Ω–∞ –Ω–æ–≤–∏—Ç–µ –∏–º–µ–Ω–∞
                closeSideMenu(); // –ó–∞—Ç–≤–∞—Ä—è–Ω–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—á–Ω–æ—Ç–æ –º–µ–Ω—é —Å–ª–µ–¥ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ –Ω–∞ –¥–µ–π—Å—Ç–≤–∏–µ—Ç–æ
            });
            
            // –°–ª—É—à–∞—Ç–µ–ª–∏ –Ω–∞ —Å—ä–±–∏—Ç–∏—è –∑–∞ –≥–ª–æ–±–∞–ª–Ω–∏—è –º–æ–¥–∞–ª–µ–Ω –ø—Ä–æ–∑–æ—Ä–µ—Ü –∑–∞ –∫–æ—Ä–µ–∫—Ü–∏–∏ (–≤–µ—á–µ –≤—ä—Ç—Ä–µ –≤ —Å—Ç—Ä–∞–Ω–∏—á–Ω–æ—Ç–æ –º–µ–Ω—é)
            openAdjustmentModalBtn.addEventListener('click', openAdjustmentModal);
            cancelAdjustmentBtn.addEventListener('click', closeAdjustmentModal);
            saveAllAdjustmentsBtn.addEventListener('click', saveAllAdjustments); 

            // –°–ª—É—à–∞—Ç–µ–ª –Ω–∞ —Å—ä–±–∏—Ç–∏–µ –∑–∞ –Ω–æ–≤–∏—è –±—É—Ç–æ–Ω "–í—Ä—ä—â–∞–Ω–µ –∫—ä–º –¥–Ω–µ—Å"
            returnTodayBtn.addEventListener('click', returnToToday);

            // –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ —á–∞—Å–æ–≤–Ω–∏–∫–∞ –≤—Å—è–∫–∞ —Å–µ–∫—É–Ω–¥–∞
            setInterval(updateClock, 1000);
            // –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ—Ç–æ –æ–±—Ä–∞—Ç–Ω–æ –±—Ä–æ–µ–Ω–µ –≤—Å—è–∫–∞ —Å–µ–∫—É–Ω–¥–∞ (–∞–∫—Ç–∏–≤–Ω–æ —Å–∞–º–æ –∑–∞ –¥–Ω–µ—à–Ω–∞ –¥–∞—Ç–∞ –∏–ª–∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞ –ª–æ–≥–∏–∫–∞ –∑–∞ –±—ä–¥–µ—â–µ/–º–∏–Ω–∞–ª–æ)
            setInterval(updateCountdown, 1000);
        };
    </script>
</body>
</html>
